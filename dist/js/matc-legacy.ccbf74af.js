"use strict";(self["webpackChunkquant_ux"]=self["webpackChunkquant_ux"]||[]).push([[721],{2228:function(e,t,s){s.d(t,{Z:function(){return c}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.visible?s("div",{class:["ZoomDialogBackground",{ZoomDialogHidden:0==e.step},{ZoomDialogAnimation:e.step>=2}],on:{mousedown:e.close}},[s("div",{ref:"container",staticClass:"ZoomDialogContainer",on:{click:function(e){e.stopPropagation()},mousedown:function(e){e.stopPropagation()}}},[s("div",{ref:"wrapper",class:["ZoomDialogWrapper",{ZoomDialogWrapperOverflow:"visible"===e.overflow}]},[s("div",{ref:"content",staticClass:"ZoomDialogContent"},[e._t("default")],2)])])]):e._e()},o=[],a=(s(92222),{name:"ZoomDialog",props:["overflow"],data:function(){return{visible:!1,step:0}},methods:{show:function(e){var t=this,s=this.position(e);this.visible=!0,this.step=0,setTimeout((function(){t.animStep1(s)}),100)},animStep1:function(e){var t=this,s=this.$refs.container,r=this.$refs.content,o=this.position(r),a=e.w/o.w,i=e.h/o.h,n=Math.round(e.x-o.x),l=Math.round(e.y-o.y);s.style.transform="translate(".concat(n,"px, ").concat(l,"px) scale(").concat(a,", ").concat(i,")"),s.style.opacity=.3,this.step=1,setTimeout((function(){t.animStep2()}),100)},animStep2:function(){this.step=2;var e=this.$refs.container;e.style.transform="scale(1,1)",e.style.opacity=1},close:function(){this.visible=!1,this.step=0},position:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){e&&e.toLowerCase&&(e=document.getElementById(e));var s=e.getBoundingClientRect(),r={x:s.left,y:s.top,w:s.right-s.left,h:s.bottom-s.top};return t&&(r.x+=window.scrollX,r.y+=window.scrollY),r}return{x:0,y:0,w:100,h:100}},shake:function(){var e=this.$refs.wrapper;setTimeout((function(){e.style.left="50px"}),1),setTimeout((function(){e.style.left="-50px"}),51),setTimeout((function(){e.style.left="50px"}),101),setTimeout((function(){e.style.left="-50px"}),151),setTimeout((function(){e.style.left="0px"}),201)}}}),i=a,n=s(1001),l=(0,n.Z)(i,r,o,!1,null,null,null),c=l.exports},88026:function(e,t,s){s.d(t,{Z:function(){return f}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["MatcLanguagePicker",{MatcToolbarPopUpVisible:e.isVisible}]},[s("a",{staticClass:"MatcToolbarIconButton",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.open.apply(null,arguments)}}},[e.hasLabel?s("span",[e._v(" "+e._s(e.selectedLanguage)+" ")]):e._e(),s("QIcon",{attrs:{icon:"World"}}),e.hasCarret?s("span",{staticClass:"caret"}):e._e()],1),e.isVisible?s("div",{staticClass:"MatcDropDownPopUp",attrs:{role:"menu","data-dojo-attach-point":"popup"}},[s("ul",{attrs:{role:"menu","data-dojo-attach-point":"ul"}},e._l(e.languages,(function(t){return s("li",{key:t.value,on:{click:function(s){return s.stopPropagation(),e.onChangeLanguage(t.value)}}},[s("a",[e._v(e._s(t.label))])])})),0)]):e._e(),e.isVisible?s("div",{staticClass:"MatcDropDownPopUpBackdrop"}):e._e()])},o=[],a=s(50124),i=s(48534),n=(s(69826),s(41539),s(24615)),l=s(52298),c=s(14285),u=s(75183),h=s(17994),g={name:"LangaugePicker",props:["hasLabel","value"],mixins:[h.Z],data:function(){return{isVisible:!1,hasCarret:!1,language:"en",languages:[{label:"English",value:"en"},{label:"Chinese",value:"cn"},{label:"Deutsch",value:"de"},{label:"Portuguese",value:"pt"}]}},components:{QIcon:u.Z},computed:{selectedLanguage:function(){var e=this,t=this.languages.find((function(t){return t.value===e.language}));return t?t.label:""}},methods:{open:function(){var e=this;this.isVisible=!0,this._mouseDownListener=(0,n.Z)(l.Z.body(),"click",(function(t){e.close(t)}))},close:function(){this.isVisible=!1},onChangeLanguage:function(e){this.language=e,this.logger.log(-1,"onChangeLanguage","entry",e),this.$emit("change",e),this.close()}},mounted:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.logger=new c.Z("LangaugePicker"),e.value&&(e.language=e.value),e.addTooltip(e.$el,"Change the language","vommondToolTipRightBottom");case 3:case"end":return t.stop()}}),t)})))()}},d=g,p=s(1001),m=(0,p.Z)(d,r,o,!1,null,null,null),f=m.exports},48535:function(e,t,s){s.r(t),s.d(t,{default:function(){return I}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"Matc"},[e.isGuest?s("LoginPage",{attrs:{user:e.user},on:{login:e.onLogin}}):s("div",{staticClass:"MatcContainer"},[e.hasHeader?s("QHeader",{attrs:{user:e.user},on:{login:e.onLogin,logout:e.onLogout}}):e._e(),s("router-view",{on:{logout:e.onLogout}})],1),s("ErrorDialog",{ref:"errorDialog"})],1)},o=[],a=s(50124),i=s(48534),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:"MatcLoginPage "+(e.resetToken?"MatcLoginPageReset":"MactMainGradient")},[e.isQuxAuth?s("div",{staticClass:"MatcLoginPageDialog"},[s("div",{staticClass:"MatcLoginPageContainer"},[e.resetToken?e._e():s("div",{staticClass:"MatcToolbarTabs MatcToolbarTabsBig"},[s("a",{class:{MatcToolbarTabActive:"login"===e.tab},on:{click:function(t){return e.setTab("login")}}},[e._v("Login")]),e.allowSignUp?s("a",{class:{MatcToolbarTabActive:"signup"===e.tab},on:{click:function(t){return e.setTab("signup")}}},[e._v("Sign Up")]):e._e()]),s("div",{class:" MatcLoginWrapper "+e.tab},[s("div",{staticClass:"MatcLoginContent"},[s("div",{staticClass:"MatcLoginPageSection"},[s("div",{staticClass:"MatcLoginPageForm"},[s("div",{staticClass:"form-group"},[s("label",{},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{placeholder:"Your email",type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),s("div",{staticClass:"form-group has-feedback"},[s("label",{},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Your password",type:"password"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"MatcErrorLabel"},[e._v(e._s(e.errorMessage))])]),s("div",{staticClass:"MatcButtonBar"},[s("a",{staticClass:"MatcButton MatcButtonPrimary",on:{click:e.login}},[e._v("Login")]),e.hasLoginError?s("a",{staticClass:"MatcLinkButton",on:{click:e.requestPasswordReset}},[e._v("Reset Password")]):e._e()])])]),s("div",{staticClass:"MatcLoginContent"},[s("div",{staticClass:"MatcLoginPageSection"},[s("div",{staticClass:"MatcLoginPageForm"},[s("div",{staticClass:"form-group"},[s("label",{},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{placeholder:"Your email",type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),s("div",{staticClass:"form-group has-feedback"},[s("label",{},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Your password",type:"password"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signup.apply(null,arguments)},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),s("div",{staticClass:"form-group has-feedback"},[s("div",{staticClass:"MatcCheckboxRow"},[s("CheckBox",{attrs:{label:""},model:{value:e.tos,callback:function(t){e.tos=t},expression:"tos"}}),s("span",{on:{click:function(t){e.tos=!0}}},[e._v("I accept the "),s("a",{attrs:{href:"#/tos.html",target:"_blank"}},[e._v("terms of service")])])],1)]),s("span",{staticClass:"MatcErrorLabel"},[e._v(e._s(e.errorMessage))])]),s("div",{staticClass:"MatcButtonBar"},[s("a",{staticClass:"MatcButton MatcButtonPrimary",on:{click:e.signup}},[e._v("SignUp")])])])]),s("div",{staticClass:"MatcLoginContent"},[e.resetToken?s("div",{staticClass:"MatcLoginPageSection"},[s("div",{staticClass:"MatcLoginPageForm"},[s("div",{staticClass:"form-group"},[s("label",{},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{placeholder:"Your email",type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),s("div",{staticClass:"form-group has-feedback"},[s("label",{},[e._v("New Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"The new password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),s("span",{staticClass:"MatcErrorLabel"},[e._v(e._s(e.errorMessage))]),s("div",{staticClass:"MatcButtonBar"},[s("a",{staticClass:"MatcButton MatcButtonDanger",on:{click:e.resetPassword}},[e._v("Set new password")])])]):e._e()])])])]):e._e()])},l=[],c=s(27437),u=s(14285),h=s(65454),g={name:"Header",mixins:[],props:["user"],data:function(){return{hasLoginError:!1,resetToken:!1,email:"test@example.com",password:"password123",tos:!1,errorMessage:" ",tab:"login",config:{}}},computed:{isQuxAuth:function(){return"keycloak"!==c.Z.getConfig().auth},allowSignUp:function(){return this.config&&this.config.user&&!0===this.config.user.allowSignUp}},watch:{user:function(e){this.logger.log(6,"watch","user >> "+e.email),this.user=e}},components:{CheckBox:h.Z},methods:{setTab:function(e){this.tab=e,this.errorMessage=" "},resetPassword:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){var s;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.logger.info("resetPassword","enter ",e.email),!(e.email.length<2)){t.next=4;break}return e.errorMessage="Please enter your email",t.abrupt("return");case 4:if(!(e.password.length<6)){t.next=7;break}return e.errorMessage="Password too short",t.abrupt("return");case 7:if(!(e.resetToken.length<6)){t.next=10;break}return e.errorMessage="Token is wrong",t.abrupt("return");case 10:return t.next=12,c.Z.getUserService().reset2(e.email,e.password,e.resetToken);case 12:s=t.sent,"error"===s.type?e.errorMessage="Someything is wrong":(e.errorMessage="",e.resetToken="",e.tab="login",e.$router.push("/"));case 14:case"end":return t.stop()}}),t)})))()},requestPasswordReset:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.logger.info("requestPasswordReset","enter ",e.email),t.next=3,c.Z.getUserService().reset(e.email);case 3:e.errorMessage="Check you mail.";case 4:case"end":return t.stop()}}),t)})))()},login:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){var s;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.logger.info("login","enter ",e.email),t.next=3,c.Z.getUserService().login({email:e.email,password:e.password});case 3:s=t.sent,"error"==s.type?(e.$root.$emit("Error","Wrong login credentials"),e.errorMessage="Login is wrong",e.hasLoginError=!0):(e.$emit("login",s),e.$root.$emit("UserLogin",s),e.hasLoginError=!1);case 5:case"end":return t.stop()}}),t)})))()},signup:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){var s,r;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.logger.info("signup","enter ",e.email),!(e.password.length<6)){t.next=4;break}return e.errorMessage="Password too short",t.abrupt("return");case 4:if(!0===e.tos){t.next=7;break}return e.errorMessage="Please accept terms of service",t.abrupt("return");case 7:return t.next=9,c.Z.getUserService().signup({email:e.email,password:e.password,tos:e.tos});case 9:if(s=t.sent,"error"!=s.type){t.next=14;break}s.errors.indexOf("user.create.domain")>=0?e.errorMessage="Not the correct domain":s.errors.indexOf("user.create.nosignup")>=0?e.errorMessage="No sign-ups allowed.":s.errors.indexOf("user.email.not.unique")>=0?e.errorMessage="Email is taken":e.errorMessage="Password too short",t.next=20;break;case 14:return t.next=16,c.Z.getUserService().login({email:e.email,password:e.password});case 16:r=t.sent,e.$emit("login",r),e.$root.$emit("UserLogin",r),e.logger.log(-1,"signup","exit with login",e.email);case 20:case"end":return t.stop()}}),t)})))()},initKeyCloak:function(e){var t=c.Z.getUserService();t.init(e)}},mounted:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.logger=new u.Z("LoginPage"),e.resetToken=e.$route.query.id,e.resetToken&&e.resetToken.length>2&&(e.logger.log(-1,"mounted","reset "),e.tab="reset"),e.config=c.Z.getConfig(),e.logger.log(1,"mounted","exit > ");case 5:case"end":return t.stop()}}),t)})))()}},d=g,p=s(1001),m=(0,p.Z)(d,n,l,!1,null,null,null),f=m.exports,v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"MatcHeader",attrs:{id:""}},[s("div",{staticClass:"MatcHeaderLeft"},[s("a",{ref:"myPrototype",attrs:{href:"#/"}},[s("img",{ref:"logo",staticClass:"MatcHeaderLogo",attrs:{src:"/logo.webp"}}),e._v(" Bawdicsoft ")])]),e._m(0),s("div",{staticClass:"MatcHeaderRight"},[s("LanguagePicker",{on:{change:e.setLanguage}}),s("a",{attrs:{href:"#/logout.html"}},[s("QIcon",{attrs:{icon:"Logout"}})],1)],1)])},w=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container MatcHeaderCenter"},[s("div",{staticClass:"MatcHeaderCenterLeft"}),s("div",{staticClass:"MatcHeaderCenterRight"})])}],M=s(53321),k=s(88026),b=s(75183),Z=s(17994),x={name:"Header",mixins:[Z.Z],props:["user"],data:function(){return{}},watch:{user:function(e){this.logger.log(6,"watch","user >> "+e.email),this.user=e}},components:{LanguagePicker:k.Z,QIcon:b.Z},methods:{setLanguage:function(e){this.logger.log(-1,"setLanguage","entry",e),c.Z.getUserService().setLanguage(e),this.$root.$i18n.locale=e,this.$root.$emit("Success",this.$i18n.t("common.language-changed"))},logout:function(){this.logger.log(2,"logout","entry"),c.Z.getUserService().logout(),this.$emit("logout",c.Z.getUserService().GUEST),(0,M.Z)("/",!0)}},mounted:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.logger=new u.Z("Header"),e.logger.log(7,"mounted","exit >> "+e.user.email),e.addTooltip(e.$refs.logo,e.$t("header.tooltip.my-prototypes")),e.addTooltip(e.$refs.myPrototype,e.$t("header.tooltip.my-prototypes"));case 4:case"end":return t.stop()}}),t)})))()}},C=x,y=(0,p.Z)(C,v,w,!1,null,null,null),T=y.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ZoomDialog",{ref:"dialog"},[s("div",{staticClass:"MatcDialog MatcErrorDialog"},[s("h2",{staticClass:"title"},[e._v(e._s(e.message))]),s("label",[e._v("Stack")]),s("pre",{staticClass:"MatcErrorStackTrace"},[e._v(e._s(e.stack))]),s("label",[e._v("Trace")]),s("pre",{staticClass:"MatcErrorStackTrace"},[e._v(e._s(e.trace))]),s("div",{staticClass:"MatcButtonBar MatcMarginTop"},[s("a",{staticClass:"MatcButton",on:{click:e.close}},[e._v("Close")]),s("a",{staticClass:"MatcButton",on:{click:function(t){e.doNotShowAgain=!0,e.close()}}},[e._v("Do not show again")])])])])},_=[],L=(s(73210),s(2228)),P={name:"ErrorDialog",props:["pub"],mixins:[],data:function(){return{message:"",stack:"",trace:"",doNotShowAgain:!1}},watch:{},components:{ZoomDialog:L.Z},methods:{close:function(){this.$refs.dialog.close()},show:function(e,t){this.doNotShowAgain||(this.$refs.dialog.show(),this.message=e,this.stack=e.stack.trim(),this.trace=t)}},mounted:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.logger=new u.Z("ErrorDialog");case 1:case"end":return t.stop()}}),t)})))()}},D=P,$=(0,p.Z)(D,S,_,!1,null,null,null),E=$.exports,B=s(32551),H=s(93134),R={name:"home",mixins:[],data:function(){return{hasHeader:!1,isDebug:!1,user:{id:-1,name:"Guest",email:"guest@quant-ux.com",role:"guest",lastlogin:0,lastNotification:0,tos:!1,paidUntil:0,plan:"Free"}}},components:{QHeader:T,ErrorDialog:E,LoginPage:f},computed:{isGuest:function(){return"guest"===this.user.role}},methods:{onLogin:function(e){this.user=e,this.logger.info("onLogin","exit >> "+this.user.email)},onLogout:function(e){console.debug("onLogout","enter"),this.user=e,this.logger.info("onLogout","exit >> "+this.user.email)},scrollTop:function(){window.scrollTo(0,0)},initRoute:function(){H.Z.remove(B.Z.body(),"MatcPublic"),H.Z.remove(B.Z.body(),"MatcVisualEditor"),H.Z.remove(B.Z.body(),"MatcLight"),this.scrollTop(),!0===this.$route.meta.hasHeader?this.hasHeader=!0:this.hasHeader=!1},showErrorDetails:function(e,t){this.isDebug&&this.$refs.errorDialog.show(e,t)}},watch:{$route:function(){this.initRoute()}},mounted:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.logger=new u.Z("QUX"),u.Z.setErrorCallback((function(t,s){return e.showErrorDetails(t,s)})),e.initRoute(),t.next=5,c.Z.getUserService().load();case 5:e.user=t.sent,e.logger.log(-1,"mounted","locale: "+navigator.language),window.onerror=function(t,s,r,o,a){return e.showErrorDetails(a,s),!0},e.$root.$on("MatcLogout",(function(t){e.onLogout(t)}));case 9:case"end":return t.stop()}}),t)})))()}},U=R,q=(0,p.Z)(U,r,o,!1,null,null,null),I=q.exports},79365:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"MatcApps"},[e._v(" Loading... ")])},o=[],a=s(50124),i=s(48534),n=s(14285),l=s(27437),c={name:"Overview",mixins:[],data:function(){return{}},mounted:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){var s,r,o,i,c,u;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.logger=new n.Z("TestMobile"),s=e.$route.params.id,r=l.Z.getModelService(e.$route),t.next=5,r.findInvitation(s);case 5:for(c in o=t.sent,i={},o)i[o[c]]=c;u=i[1],e.logger.info("mounted","exit > "+u),location.href="#/simulate.html?qr=true&h=".concat(u);case 11:case"end":return t.stop()}}),t)})))()}},u=c,h=s(1001),g=(0,h.Z)(u,r,o,!1,null,null,null),d=g.exports},15671:function(e,t,s){s.r(t),s.d(t,{default:function(){return I}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["MatcPublic MatcTestPage",{MatcWindows:e.hasWindows},{MatcTestPageResponsive:e.isResponsive}]},[e.hasSplash?s("Splash",{attrs:{hash:e.hash,model:e.model,settings:e.settings},on:{start:e.renderTest}}):e._e(),s("div",{staticClass:"MatcTestCntr"},[e.showTasks?s("div",{ref:"tastCntr",staticClass:"MatcTestTaskCntr MatcTestContent"},[s("div",{staticClass:"MatcStudioLogo"},[s("img",{ref:"logo",staticClass:"MatcStudioLogo",attrs:{src:"/logo.webp"}}),s("span",{staticClass:"MatcCollapseViewMinHidden"},[e._v("Bawdicsoft")])]),s("div",{ref:"taskList",staticClass:"MatcTestTaskList MatcScrollContainer"},[e._l(e.getUserTasks(),(function(t){return s("TestTask",{key:t.id,attrs:{task:t,done:e.taskDone[t.id]}})})),e.hasSuccessMessage?s("div",{staticClass:"MatcTestTaskSuccess MatcTestTask"},[s("h4",[e._v(e._s(e.$t("test.task.success-title")))]),s("p",{staticClass:"MatcTestTaskDescription"},[e._v(" "+e._s(e.$t("test.task.success-message"))+" ")])]):e._e()],2)]):e._e(),s("div",{ref:"responsiveScroll",staticClass:"MatcTest"},[s("div",{ref:"cntr",staticClass:"MatcTestSimulatorWrapper"})])])],1)},o=[],a=s(50124),i=s(48534),n=s(66347),l=(s(57327),s(41539),s(69720),s(47042),s(82526),s(41817),s(54747),s(26833),s(99917)),c=s(93134),u=s(42477),h=s(32551),g=s(24615),d=s(4623),p=s(14285),m=s(55887),f=s(37339),v=s(51804),w=s(34287),M=s(27437),k=s(54712),b=s(69562),Z=s(11747),x=s(21200),C=s(77907),y=s(5497),T=s(79345),S=s(59537),_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["MatcTestTask",{MatcTestTaskDone:e.done},{MatcTestTaskCollapased:e.collapsed}]},[s("div",{staticClass:"MatcTestTaskHeader"},[s("h4",[s("QIcon",{staticClass:"MatcChevron",attrs:{icon:"ChevronDown"},on:{click:function(t){e.collapsed=!e.collapsed}}}),e._v(" "+e._s(e.task.name)+" ")],1),e.done?s("div",{staticClass:"MatcTestTaskDoneMarker"},[s("QIcon",{attrs:{icon:"CheckBoxRound"}})],1):e._e()]),e.collapsed?e._e():s("p",{ref:"descriptionBox",staticClass:"MatcTestTaskDescription MatcScrollContainer"},[e._v(" "+e._s(e.task.description)+" ")])])},L=[],P=s(75183),D={name:"TestTask",mixins:[],props:["task","done"],data:function(){return{collapsed:!1}},computed:{},components:{QIcon:P.Z},watch:{done:function(e){e&&(this.collapsed=!0)}},mounted:function(){}},$=D,E=s(1001),B=(0,E.Z)($,_,L,!1,null,null,null),H=B.exports,R={name:"TestPage",mixins:[f.Z,l.Z],data:function(){return{isResponsive:!1,hasSuccessMessage:!1,hash:"",hasSplash:!0,true:!1,skipSplash:!1,desktopScaleDirection:"width",desktopOffset:0,responiveOffset:200,settings:null,logging:!0,model:null,step:0,password:"",passwordError:"",simulatorEvents:[],taskDone:{},splashImage:null,forceSimpleBar:!1}},components:{Splash:S.Z,TestTask:H},computed:{hasWindows:function(){return navigator.platform.indexOf("Win")>-1},showTasks:function(){return!(!this.settings||!this.settings.showTaskInTest)},hasSettings:function(){return null!==this.settings},menuWidth:function(){return this.settings&&this.settings.showTaskInTest?256:0}},methods:{postCreate:function(){this.logger=new p.Z("TestPage");var e=this.getHashFromUri();this.logger.log(2,"postCreate","enter",e);var t=this.$route.query.log;if(this.analytics=new x.Z,this.initNLS(),(0,w.Z)("android")||(0,w.Z)("ios")){var s="/#/simulate.html?qr=true&h="+e;return s+="false"==t?"&log=false":"&log=true",s+=this.getDataQuery(),void(location=s)}this.db=new m.Z,"true"===this.$route.query.s&&(this.logger.log(-1,"postCreate","skipSplash"),this.skipSplash=!0),"true"===this.$route.query.responsive&&(this.isResponsive=!0),setTimeout(u.Z.hitch(this,"loadModel"),1),this.logger.log(1,"postCreate","exit")},getDataQuery:function(){var e,t="",s=Object.entries(this.$route.query).filter((function(e){return"data_"==e[0].slice(0,5)})),r=(0,n.Z)(s);try{for(r.s();!(e=r.n()).done;){var o=e.value;t+="&"+o[0]+"="+o[1]}}catch(a){r.e(a)}finally{r.f()}return t},getUserTasks:function(){var e=[];if(this.settings.tasks&&this.settings.tasks)for(var t=0;t<this.settings.tasks.length;t++){var s=this.settings.tasks[t];s.description&&"Enter a description here"!=s.description&&e.push(s)}return e},loadModel:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){var s;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.logger.log(2,"loadModel","enter"),s=e.getHashFromUri(),s&&s.length<60?e.showPassword():e.loadModelFromHash(s);case 3:case"end":return t.stop()}}),t)})))()},showPassword:function(){this.logger.log(2,"showPassword","enter"),this.step=6},setPassword:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){var s,r,o;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.logger.log(1,"setPassword","enter",e.password),s=e.getHashFromUri(),r=s+e.password,t.prev=3,t.next=6,M.Z.getModelService().findAppByHash(r);case 6:o=t.sent,o?(e.passwordError="",e.loadModelFromHash(r)):e.showPasswordError(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),e.showPasswordError();case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},showPasswordError:function(){this.passwordError="The password is wrong."},loadModelFromHash:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function s(){var r;return(0,a.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t.hash=e,!e){s.next=8;break}return s.next=4,M.Z.getModelService().findAppByHash(e);case 4:r=s.sent,t.setModel(r),s.next=9;break;case 8:console.debug("loadModel() > Hash is missing in url");case 9:"false"===t.$route.query.log&&(t.logger.log(0,"loadModel","turn off logging"),t.logging=!1),t.screenID=t.$route.query.s,t.debug="true"===t.$route.query.debug;case 12:case"end":return s.stop()}}),s)})))()},getHashFromUri:function(){return this.$route.query.a&&this.$route.query.b?Math.random()>.5?(this.logger.log(0,"getHashFromUri","Test version A"),this.$route.query.a):(this.logger.log(0,"getHashFromUri","Test version B"),this.$route.query.b):this.$route.query.h},setModel:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function s(){var r;return(0,a.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t.logger.log(2,"setModel","enter > "+e),!e){s.next=10;break}return t.model=e,s.next=5,M.Z.getModelService().findTestByHash(t.model,t.hash);case 5:r=s.sent,t.setTestsettings(r),t.preloadImages(e),s.next=12;break;case 10:t.domNode.innerHTML="Sorry, the invitation is not valid...",location.href=location.protocol+"//"+location.host+"/404.html";case 12:case"end":return s.stop()}}),s)})))()},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},setTestsettings:function(e){this.logger.log(1,"setTestsettings","enter > ",e),this.settings=e},preloadImages:function(e){this.logger.log(-1,"preloadImages","enter"),b.Z.load(e,this.hash,this.domNode)},showQRDialog:function(e){this.stopEvent(e);var t=this.db.div("MatchTestQRDialog MatcPadding").build(),s=this.db.img().build(t);c.Z.add(s,"MatcSimulatorQR"),Z.Z.getQRCode(this.hash,!0,!1,this.getLanguage(),this.getDataQuery()).then((function(e){s.src=e})),this.db.div("MatcHint MatchTestQRDialogHint",this.getNLS("test.qr.headline")).build(t);var r=new v.Z;r.popup(t,e.target)},onSimulatorEvent:function(e){var t=this;this.simulatorEvents.push(e);var s=new C.Z(this.simulatorEvents);s=this.getActionEvents(s);var r=this.settings.tasks,o=this.analytics.getTaskPerformance(s,r,!0);o.data.forEach((function(e){t.$set(t.taskDone,e.task,!0)})),this.settings.showSuccessInTest&&Object.values(this.taskDone).length===r.length&&(this.hasSuccessMessage=!0)},renderTest:function(){if(this.logger.log(-1,"renderTest","enter",this.settings.showTaskInTest),this.hasSplash=!1,this.renderSimulator(),"desktop"!=this.model.type){var e=this.db.div("MatcTestQRButton  MatcAnimated MatcFadeOut").build(this.domNode);this.db.span("mdi mdi-qrcode MatcMiddle").build(e),this.own((0,g.Z)(e,d.Z.press,u.Z.hitch(this,"showQRDialog"))),setTimeout((function(){c.Z.remove(e,"MatcFadeOut")}),1500)}},renderSimulator:function(){var e=h.Z.getBox();e.w-=this.menuWidth;var t=this.$refs.cntr;return this.isResponsive?this.simulator=this.renderResponsiceSimulator(t,e):"desktop"==this.model.type?this.simulator=this.renderDesktopSimulator(t,e):(t.style.marginRight=this.menuWidth+"px",this.simulator=this.renderMobileSimulator(t,e)),t},renderResponsiceSimulator:function(e,t){var s=this;this.logger.log(2,"renderDesktopSimulator","enter ");var r=this.getResponsiveScaleFactor(t);t.w-=64;var o={w:Math.floor(t.w*r),h:Math.floor(t.h*r)-96},a=new T.ZP;a.initApp(this.model,!0);var i=a.resize(o.w,this.model.screenSize.h);o.h=Math.min(i.screenSize.h,o.h);var n=this.db.div("MatchSimulatorWrapper").build(e);n.style.width=Math.round(o.w)+"px",n.style.height=Math.round(o.h)+"px";var l=this.db.div("MatchSimulatorContainer").build(n);l.style.width=Math.round(o.w)+"px",l.style.height=Math.round(o.h)+"px";var c=y.n(l,this.forceSimpleBar),u=this.createSimulator();return u.setResizeListener((function(e){s.logger.log(-1,"renderMobileSimulator","resize",e.w+"/"+e.h),n.style.height=e.h+"px",n.style.width=e.w+"px",l.style.height=e.h+"px",l.style.width=e.w+"px"})),u.mode="width",u.isDesktopTest=!0,u.setInvitation(this.hash),u.placeAt(l),u.setScrollListenTarget(c),u.startup(),u.setModel(i),this.logger.log(2,"renderDesktopSimulator","exit"),u},renderMobileSimulator:function(e,t){var s=this;this.logger.log(0,"renderMobileSimulator","enter > "+t.w+","+t.h),c.Z.add(h.Z.body(),"MatcTestMobile");var r=.75,o={w:Math.floor(t.w*r),h:Math.floor(t.h*r)},a=this.model.screenSize;o.h<this.model.screenSize.h&&(this.logger.log(-1,"renderMobileSimulator","scale down..."),a=this.getScaledSize(o,"height",this.model));var i=this.db.div("MatchSimulatorWrapper").build(e);i.style.width=Math.round(a.w)+"px",i.style.height=Math.round(a.h)+"px";var n=this.db.div("MatchSimulatorContainer").build(i);n.style.width=Math.round(a.w)+"px",n.style.height=Math.round(a.h)+"px";var l=y.n(n,this.forceSimpleBar),u=this.createSimulator();return u.setResizeListener((function(e){s.logger.log(-1,"renderMobileSimulator","resize",e.w+"/"+e.h),i.style.height=e.h+"px",i.style.width=e.w+"px",n.style.height=e.h+"px",n.style.width=e.w+"px"})),u.setInvitation(this.hash),u.isDesktopTest=!0,u.scrollListenTarget=l?"simpleBar":"parent",u.placeAt(n),u.setModel(this.model),this.logger.log(0,"renderMobileSimulator","exit",a),u},renderDesktopSimulator:function(e,t){var s=this;this.logger.log(2,"renderDesktopSimulator","enter ");var r=this.getDesktopScaleFactor(t);t.w-=64;var o={w:Math.floor(t.w*r),h:Math.floor(t.h*r)},a=this.model.screenSize;o.w<this.model.screenSize.w&&(this.logger.log(0,"renderDesktopSimulator","scale down by width..."),a=this.getScaledSize(o,"width",this.model));var i=this.db.div("MatchSimulatorWrapper").build(e);i.style.width=Math.round(a.w)+"px",i.style.height=Math.round(a.h)+"px";var n=this.db.div("MatchSimulatorContainer").build(i);n.style.width=Math.round(a.w)+"px",n.style.height=Math.round(a.h)+"px";var l=y.n(n,this.forceSimpleBar),c=this.createSimulator();return c.setResizeListener((function(e){s.logger.log(-1,"renderMobileSimulator","resize",e.w+"/"+e.h),i.style.height=e.h+"px",i.style.width=e.w+"px",n.style.height=e.h+"px",n.style.width=e.w+"px"})),c.mode="width",c.isDesktopTest=!0,c.setInvitation(this.hash),c.placeAt(n),c.scrollListenTarget=l?"simpleBar":"parent",c.startup(),c.setModel(this.model),this.logger.log(2,"renderDesktopSimulator","exit"),c},getDesktopScaleFactor:function(e){var t=(e.w-this.desktopOffset)/e.w;return Math.min(1,t)},getResponsiveScaleFactor:function(e){var t=(e.w-this.responiveOffset)/e.w;return Math.min(1,t)},createSimulator:function(){var e=this;if(this.debug){var t=this.$new(k.Z);return t.on("event",(function(t){return e.onSimulatorEvent(t)})),t.mode="debug",t.logData=!1,t}var s=this.$new(k.Z);return s.on("event",(function(t){return e.onSimulatorEvent(t)})),s.mode="debug",s.logData=this.logging,s.applyTestSettings(this.settings),s}},mounted:function(){c.Z.add(h.Z.body(),"MatcPublic"),this.forceSimpleBar&&console.error("forceSimpleBar")}},U=R,q=(0,E.Z)(U,r,o,!1,null,null,null),I=q.exports}}]);
//# sourceMappingURL=matc-legacy.ccbf74af.js.map