"use strict";(self["webpackChunkquant_ux"]=self["webpackChunkquant_ux"]||[]).push([[890],{14680:function(e,t,n){n.d(t,{Z:function(){return g}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"VommondCheckBoxWrapper"},[e._m(0),e.label?n("span",{staticClass:"VommondCheckBoxLabel"},[e._v(e._s(e.label))]):e._e()])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"VommondCheckBox"},[n("span",{staticClass:"VommondCheckBoxHook",attrs:{"data-dojo-attach-point":"hook"}})])}],i=n(93921),s=n(93134),o=n(4623),l=n(42477),u=n(24615),h=n(14285),d={name:"CheckBox",mixins:[i.Z],data:function(){return{checked:!1}},props:["label","value"],components:{},methods:{postCreate(){this.log=new h.Z("CheckBox"),this.own((0,u.Z)(this.domNode,o.Z.press,l.Z.hitch(this,"onChange"))),(this.value||"true"===this.value)&&this.setValue(!0)},getValue(){return this.checked},setValue(e){this.checked=e,e?s.Z.add(this.domNode,"VommondCheckBoxChecked"):s.Z.remove(this.domNode,"VommondCheckBoxChecked")},setLabel(e){this.label=e},onChange(e){this.stopEvent(e),this.setValue(!this.checked),this.emit("change",this.checked),this.emit("input",this.checked)}},watch:{value(e){this.setValue(e)}},mounted(){this.log.log(10,"mounted","enter")}},c=d,m=n(43736),f=(0,m.Z)(c,r,a,!1,null,null,null),g=f.exports},5781:function(e,t,n){n.d(t,{Z:function(){return h}});var r,a,i=n(93134),s={name:"_Tooltip",mixins:[],data:function(){return{}},components:{},methods:{addTooltip(e,t,n){const r=document.createElement("div");i.Z.add(r,"vommondToolTip"),n&&i.Z.add(r,n);const a=document.createElement("div");r.appendChild(a),i.Z.add(a,"vommondToolTipArrow"),i.Z.add(e,"vommondToolTipCntr");const s=document.createElement("span");r.appendChild(s),i.Z.add(s,"vommondToolTipLabel"),s.innerHTML=t,e.appendChild(r)}},mounted(){}},o=s,l=n(43736),u=(0,l.Z)(o,r,a,!1,null,null,null),h=u.exports},50597:function(e,t,n){n.d(t,{Z:function(){return M}});var r,a,i=n(93921),s=n(42477),o=n(93134),l=n(52298),u=n(55887),h=n(46305),d=n(8423),c=n(41500),m=n(70608),f=n(77161),g=n(53833),p=n(88446),v={},y={},w={name:"Util",mixins:[h.Z,i.Z],data:function(){return{eventLabels:{WidgetClick:"Click",ScreenLoaded:"View",ScreenClick:"Click",WidgetChange:"Change",ScreenScroll:"Scroll",OverlayLoaded:"View Overlay",OverlayRemoved:"Removed Overlay",ValidationError:"Widget ValiationError",ValidationErrorLine:"Form Validation Error",ValidationOK:"Validation OK",ScreenGesture:"Gesture",WidgetGesture:"Gesture"},gestureLabels:{swipeLeft:"Swipe Left",swipeRight:"Swipe Right",swipeUp:"Swipe Up",swipeDown:"Swipe Down"}}},components:{},methods:{getIcons(){return this._matcIcons},fixGestures(e){e.sort((function(e,t){return e.time-t.time}));for(var t=null,n=0,r=0;r<e.length;r++){var a=e[r];"SessionStart"==a.type&&(t=a.device),"ScreenGesture"==a.type&&a.gesture&&(a.gesture.start&&a.gesture.start.x>1&&t&&(a.gesture.start.x=Math.min(.99,a.gesture.start.x/t.w),a.gesture.start.y=Math.min(.99,a.gesture.start.y/t.h),n++),a.gesture.end&&a.gesture.end.x>1&&t&&(a.gesture.end.x=Math.min(.99,a.gesture.end.x/t.w),a.gesture.end.y=Math.min(.99,a.gesture.end.y/t.h),n++),a.gesture.start&&(a.x=a.gesture.start.x,a.y=a.gesture.start.y)),(a.x>1||a.y>1)&&console.warn("fixGestures() > exit. No device, could not fix! ")}n&&console.debug("fixGestures() > exit. Fixed Errors: ",n)},_distributedPositions(e,t,n){return g.qd(this.model,e,t,n)},getClones(e,t){var n=[],r=[],a=this.getBoundingBox(e),i=1;a.x>t.x&&(i=-1);var s=1;a.y>t.y&&(s=-1);var o=Math.floor(t.w/a.w),l=Math.floor(t.h/a.h),u=Math.round((t.w-o*a.w)/Math.max(1,o-1)),h=Math.round((t.h-l*a.h)/Math.max(1,l-1)),d={};for(let v=0;v<e.length;v++){let t=e[v];var c=this.getBoxById(t);d[t]={x:c.x-a.x,y:c.y-a.y,box:c}}var m=0;for(let v=0;v<o;v++)for(let t=0;t<l;t++)if(0!=v||0!=t){let o;for(let r=0;r<e.length;r++){o=e[r];var f=d[o],g={w:a.w,h:a.h,x:a.x+(v*(a.w+u)+f.x)*i,y:a.y+(t*(a.h+h)+f.y)*s,z:f.box.z,group:m,cloneOff:o};n.push(g)}var p={w:a.w,h:a.h,x:a.x+v*(a.w+u)*i,y:a.y+t*(a.h+h)*s,z:0,cloneOff:o};r.push(p),m++}return{previews:r,clones:n}},_getGroupChildResizePosition(e,t,n,r){return console.warn("DEPRECATED: _getGroupChildResizePosition()"),c.Z.getGroupChildResizePosition(e,t,n,r)},getObjectFromArray(e,t){return console.error("Util.vue .getObjectFromArray() > DEPRECATED!"),m.Z.getObjectFromArray(e,t)},getWidgetsByDistanceAndType(e,t){var n=[];if(this.model){let a=this.getParentScreen(e),i=a.children;for(let s=0;s<i.length;s++){let a=i[s];if(a!=e.id){let e=this.model.widgets[a];var r=e.type;t.indexOf(r)>=0&&n.push({d:0,y:e.y,w:e})}}n.sort((function(e,t){return e.y-t.y}))}return n},getObjectLength(e){return e?Object.keys(e).length:0},getEventStateLabel(e){return"hidden"==e.type?e.options.hidden?"Hide Password":"Show Password":"text"==e.type||"typing"==e.type?"Change Text":"checked"==e.type?e.value?"Checked":"Unchecked":"open"==e.type?"Open":"select"==e.type?"Select":"pos"==e.type?"Move":"open"==e.type?"Open Popup":"navigate"==e.type?"Popup Click":"Change"},getGestureLabel(e){return this.gestureLabels[e]?this.gestureLabels[e]:e},getEventLabel(e){return this.eventLabels[e]?this.eventLabels[e]:e},getScreenName(e,t=!1){if(this.model.screens[e]&&this.model.screens[e].name){let n=this.model.screens[e].name;return t&&n.length>16&&(n=n.substring(0,16)+"..."),n}return e},getWidgetName(e){return this.model.widgets[e]&&this.model.widgets[e].name?this.model.widgets[e].name:e},filterEvents(e,t){var n={};for(let o=0;o<t.length;o++){var r=t[o];r.isValid||(n[r.reference]=!0)}var a=[],i=e.length;for(let o=0;o<i;o++){var s=e[o];n[s.session]||a.push(s)}return a},getActionEvents(e){f.Z.start("Util.getActionEvents()");const t=e.select("type","in",["ScreenClick","WidgetClick","WidgetChange","ValidationError","ValidationErrorLine","ScreenLoaded","OverlayLoaded","OverlayRemoved","ScreenGesture","WidgetGesture"]);return f.Z.end("Util.getActionEvents()"),t},getClickEvents(e){return e.select("type","in",["ScreenClick","WidgetClick","WidgetChange"])},createEmptyImage(e,t,n){return{type:"Image",name:n,x:e,y:t,w:100,h:100,z:0,props:{},has:{onclick:!0,backgroundImage:!0,border:!0},actions:{},style:{borderTopRightRadius:0,borderTopLeftRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopWidth:0,borderBottomWidth:0,borderRightWidth:0,borderLeftWidth:0,borderTopColor:"#333333",borderBottomColor:"#333333",borderRightColor:"#333333",borderLeftColor:"#333333",backgroundImage:null}}},createEmptyScreen(e,t,n){return{x:e,y:t,h:this.model.screenSize.h,w:this.model.screenSize.w,name:n,type:"Screen",style:{background:"#ffffff"},min:{w:this.model.screenSize.w,h:this.model.screenSize.h},has:{image:!0},props:{start:!1},children:[]}},getAppTypeIcon(e){return"smartphone"==e.type?"mdi mdi-crop-portrait":(e.type,"mdi mdi-crop-landscape")},getDomain(){var e=window.location.hostname;return"127.0.0.1"==e||"flowalytics.com"==e?"flowalytics.com":"quant-ux.com"},ring(e,t,n,r,a,i){a||(a=200),i||(i=this.RING_BACKGROUND);var s=this.$new(v);return s.width=10,s.size=a,s.color=this.RING_FOREGROUND,s.backgroundColor=i,s.setLabel(e),s.setValue(t),s.setPs(n),s.placeAt(r),s},getDB(){return this.domBuilder||(this.domBuilder=new u.Z),this.domBuilder},progress(e,t,n,r){var a=document.getElementById(r),i=document.createElement("div");o.Z.add(i,"row"),a.appendChild(i);var s=document.createElement("div");o.Z.add(s,"col-md-4"),i.appendChild(s);var l=document.createElement("span");l.innerHTML=e,s.appendChild(l),s=document.createElement("div"),o.Z.add(s,"col-md-8"),i.appendChild(s);var u=this.$new(y);return u.color=this.PROGRESS_COLOR,u.placeAt(s),u.setValue(n),u},bulletGraph(e,t,n){for(var r=this.getDB(),a=0;a<t.length;a++){var i=t[a],s=r.div().build(e);r.div("MatcDashCompareTableLabelSmall",i.label).build(s);var l=r.div("").build(s);o.Z.add(l,"MatcDashCompareTableGraph");var u=this.$new(y);u.color=this.PROGRESS_COLOR,u.placeAt(l),u.setValue(i.p),i.empty?n&&u.setLabel(n):u.setLabel(i.a)}},bulletGraphTable(e,t,n){for(var r=this.getDB(),a=r.table(" MatcDashCompareTable").tbody().build(e),i=0;i<t.length;i++){var s=t[i],l=r.tr().build(a);r.td("MatcDashCompareTableLabel",s.label).build(l);var u=r.td("").build(l);if(s.empty)n&&r.span("MatcHint MatcLeft",n).build(u);else{o.Z.add(u,"MatcDashCompareTableGraph");var h=this.$new(y);h.color=!0,h.placeAt(u),h.setValue(s.p),h.setLabel(s.a)}}},createUserImage(e,t){var n=document.createElement("div");if(o.Z.add(n,"MatcUserImageCntr"),t.appendChild(n),e&&"guest"!=e.role)if(e.image){o.Z.add(n,"MatcUserImageCntrTrans");let t=document.createElement("img");t.src="/rest/user/"+e.id+"/images/"+e.name+"_"+e.lastname+"/"+e.image,o.Z.add(t,"MatcUserImage"),n.appendChild(t)}else{let t=document.createElement("div");o.Z.add(t,"MatcUserImageNone");var r=document.createElement("span");t.appendChild(r),o.Z.add(r,"MatcMiddle MatcUserLetters"),r.innerHTML=this.getUserLetter(e),n.appendChild(t)}else{let e=document.createElement("div");o.Z.add(e,"MatcCommentGuest"),e.innerHTML='<span class="mdi mdi-account"></span>',n.appendChild(e)}return n},getCommentUserName(e){return e.user&&e.user.name||e.user.lastname?this.getUserName(e.user):"Guest"},getUserLetter(e){let t="";if(e.name)t+=e.name.substring(0,1).toUpperCase(),e.lastname&&(t+=e.lastname.substring(0,1).toUpperCase());else{let n=e.email.split(".");n.length>0&&(t+=n[0].substring(0,1).toUpperCase()),n.length>1&&(t+=n[1].substring(0,1).toUpperCase())}return t},getUserName(e){var t="";return e.name&&(t=e.name+" "),e.lastname&&(t+=e.lastname),0==t.length&&(t=e.email),t},resizeSimulatorContainer(e,t,n){var r;return o.Z.add(t,"MatchSimulatorContainer"),"desktop"==e.type?(r=l.Z.getBox(),r.w=r.w*n,r.h=r.h*n,r=this.getScaledSize(r,"width",e),t.style.width=Math.round(r.w)+"px",t.style.height=Math.round(r.h)+"px"):(r={w:150,h:400},r=l.Z.getBox(),r.w=r.w*n,r.h=r.h*n,r=this.getScaledSize(r,"height",e),t.style.width=Math.ceil(r.w)+"px",t.style.height=Math.ceil(r.h)+"px"),r},getWidgets(e,t){var n=[];if(e){var r=this.model.screens[e];if(r){var a=r.children;for(let e=0;e<a.length;e++){let t=a[e],r=this.model.widgets[t];r&&n.push(r)}}}else for(let s in this.model.widgets){let e=this.model.widgets[s];n.push(e)}if(n.sort((function(e,t){return e.y-t.y})),t){var i=[];for(let e=0;e<n.length;e++)t(n[e])&&i.push(n[e]);n=i}return n},getScreens(e){e||(e=this.model);var t=[];for(let r in e.screens){var n=e.screens[r];t.push(n)}return t.sort((function(e,t){return e.x-t.x})),t},getClickableWidgets(e){var t=[],n=e.children;for(let r=0;r<n.length;r++){let e=n[r],a=this.model.widgets[e];this.isClickable(a)&&t.push(a)}return t.sort((function(e,t){return e.y-t.y})),t},getModelChildren(e){var t=[];for(let n in this.model.widgets){let r=e.children.indexOf(n);r>=0&&t.push(this.model.widgets[n])}return t},getWidgetsWithoutParent(){var e=[],t=[];for(let a in this.model.screens){var n=this.model.screens[a];t=t.concat(n.children)}for(let a in this.model.widgets){var r=t.indexOf(a);r<0&&e.push(this.model.widgets[a])}return this.getOrderedWidgets(e)},getBoxById(e){if(this.model.widgets[e])return this.model.widgets[e];if(this.model.screens[e])return this.model.screens[e];if(this.model.templates&&this.model.templates[e])return this.model.templates[e];if(!e||!e.split)return console.debug("getBoxById() > ID is wrong: "+e),null;var t=e.split("@");if(2==t.length){var n=t[0],r=t[1],a=this.model.screens[r],i=this.model.widgets[n];if(a&&i){var o=this.getHoverScreen(i),l=o.x-a.x,u=o.y-a.y,h=s.Z.clone(i);return h.id=e,h.inherited=i.id,h.inheritedOrder=1,h.x-=l,h.y-=u,h}console.warn("getBoxById() > No screen or widget for inherited id ",e)}return null},getToLines(e){var t=[];for(var n in this.model.lines){var r=this.model.lines[n];r.to==e.id&&t.push(r)}return t},getLines(e,t){var n=[],r={};for(let a in this.model.lines){let t=this.model.lines[a];t.to!=e.id&&t.from!=e.id||(n.push(t),r[t.id]=!0)}if(e.children&&t)for(let a=0;a<e.children.length;a++){let t=e.children[a];for(let e in this.model.lines){let a=this.model.lines[e];r[a.id]||a.from!=t&&a.to!=t||n.push(a)}}return n},hasLine(e){for(let t in this.model.lines){let n=this.model.lines[t];if(n.from==e.id)return!0}return!1},getLine(e){for(let t in this.model.lines){let n=this.model.lines[t];if(n.from==e.id)return n}return null},getFromBox(e){let t=this.model.widgets[e.from];if(t||(t=this.model.screens[e.from]),!t&&this.model.groups){const n=this.model.groups[e.from];if(n){const e=this.getAllGroupChildren(n);t=this.getBoundingBox(e)}}return t},getToBox(e){var t=this.model.screens[e.to];if(t||(t=this.model.widgets[e.to]),!t&&e.isGroup&&this.model.groups){var n=this.model.groups[e.to];n&&(t=this.getBoundingBox(n.children))}return t},getTemplateGroupOrderChildren(e){let t=[];for(var n=0;n<e.children.length;n++){const r=e.children[n],a=this.model.templates[r];t.push(a)}return t=this.getOrderedWidgets(t),t},getBoundingBox(e){return d.Z.getBoundingBox(e,this.model)},getBoundingBoxByBoxes(e){return d.Z.getBoundingBoxByBoxes(e)},getHoverScreen(e){return d.Z.getHoverScreen(e,this.model)},_getHoverScreen(e,t){return d.Z.getHoverScreen(e,t)},_isBoxChild(e,t){return!(e.x+e.w<t.x||t.x+t.w<e.x||e.y+e.h<t.y||t.y+t.h<e.y)},_isContainedInBox(e,t){return!!(t&&e.x>=t.x&&e.x+e.w<=t.w+t.x&&e.y>=t.y&&e.y+e.h<=t.y+t.h)},countProps(e){var t=0;for(let n in e)e.hasOwnProperty(n)&&t++;return t},objectEquals(e,t){if(typeof e!==typeof t)return!1;if("function"===typeof e)return e.toString()===t.toString();if(e instanceof Object&&t instanceof Object){if(this.countProps(e)!==this.countProps(t))return!1;var n=!0;for(let r in e)if(n=this.objectEquals(e[r],t[r]),!n)return!1;return!0}return e===t},round(e){return Math.round(100*e)/100},formatTime(e){return e=Math.round(e/1e3),e+"s"},formatSTD(e){return'<span class="MatcDashTableTdHint">( +/- '+this.formatNumber(e)+")</span>"},formatRound(e){return Math.round(100*e)/100},formatNumber(e){return e>1e6?(e=Math.floor(e/1e6)+"M",e):e>1e3?(e=Math.floor(e/1e3)+"K",e):e>100?(e=Math.floor(e),e):(e=Math.round(10*e)/10,e)},formatPercent(e){e=Math.round(100*e);var t="MatchDashStatusFailure";return e>70?t="MatchDashStatusSuccess":e>35&&(t="MatchDashStatusOK"),'<span class="'+t+'">'+e+"%</span>"},formatDate(e,t){return p.p6(e,t)},formatString(e,t){return e.length>t&&(e=e.substring(0,t-3)+"..."),e},getNormalizeWidgetZValues(e){const t=[];for(var n in e)t.push({id:n,z:e[n]});this.sortWidgetList(t);let r=0,a=null;const i={};for(let s=0;s<t.length;s++){let e=t[s];null!==a&&a==e.z||(r++,a=e.z),i[e.id]=r}return i},getMinZValue(e){var t=1e5,n=0;for(var r in e){var a=e[r];t=Math.min(a.z,t),n++}return n>0?t:0},getMaxZValue(e){var t=-1e4,n=0;for(var r in e){var a=e[r];t=Math.max(a.z,t),n++}return n>0?t:0},getZValues(e){var t={};for(var n in e){var r=e[n];this.fixMissingZValue(r),t[n]=r.z}return t}},mounted(){}},b=w,S=n(43736),k=(0,S.Z)(b,r,a,!1,null,null,null),M=k.exports},63403:function(e,t,n){n.d(t,{Z:function(){return c}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.icons[e.icon]?n("div",{staticClass:"MatcQIcon",on:{click:e.onClick,mouseover:e.onMouseOver,mouseout:e.onMouseOut}},[n("svg",{class:"MatcQIconSVG "+e.icon,attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24","stroke-width":"1.25",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},domProps:{innerHTML:e._s(e.icons[e.icon])}}),e.bubble?n("span",{staticClass:"MatcQIconBubble"}):e._e()]):n("span",{class:"MatcQIcon "+e.icon,on:{click:e.onClick,mouseover:e.onMouseOver,mouseout:e.onMouseOut}})},a=[],i=n(93921),s=n(5781),o=n(14607),l={name:"QIcon",props:["icon","tooltip","bubble"],mixins:[i.Z,s.Z],data:function(){return{icons:o.c}},components:{},methods:{onMouseOver(e){this.$emit("mouseover",e)},onMouseOut(e){this.$emit("mouseout",e)},onClick(e){this.$emit("click",e)}},mounted(){this.tooltip&&this.addTooltip(this.$el,this.tooltip)}},u=l,h=n(43736),d=(0,h.Z)(u,r,a,!1,null,null,null),c=d.exports},77907:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(55372);class a{constructor(e){this.data=e,this._isDataFrame=!0}as_array(){if(this.data.length)return this.data;var e=[];return this.foreach((function(t){e.push(t)})),e}as_dict(e){const t=this.as_array(),n={};return t.forEach((t=>{n[t[e]]=t})),n}push(e){this.data.push?this.data.push(e):console.warn("Data is not array. cannot push")}select(e,t,n){const r=[];let i=null;return"in"===t&&Array.isArray(n)&&(i={},n.forEach((e=>{i[e]=!0}))),this.foreach((function(a){const s=a[e];switch(t){case"==":s==n&&r.push(a);break;case">=":s>=n&&r.push(a);break;case"<=":s<=n&&r.push(a);break;case">":s>n&&r.push(a);break;case"<":s<n&&r.push(a);break;case"!=":s!=n&&r.push(a);break;case"in":(i&&i[s]||n.indexOf(s)>=0)&&r.push(a);break;default:break}})),new a(r)}columns(){var e=[];for(let t in this.data){let n=this.data[t];for(let t in n)e.push(t);break}return new a(e)}shape(){var e=this.size(),t=0;for(let n in this.data){let e=this.data[n];for(let n in e)t++;0==t&&(t=1);break}return[e,t]}length(){return this.size()}size(){if(this.data&&this.data.length)return this.data.length;if(this.data){var e=0;return this.foreach((function(){e++})),e}return 0}row(e,t){if(!t){var n=this.data[e];return null==n||!isNaN(n)||n._isDataFrame||n.substring?n:new a(n)}this.data[e]=t}column(e,t){if(!t){let t={};return this.foreach((function(e,n){t[n]=e}),e),new a(t)}var n=this.data;this.foreach((function(r,a){n[a][e]=t.get(a)}),e)}get(e,t,n){if(null!=t&&null!=e)return this.data[e][t];if(null!=e){var r=this.data[e];return r&&isNaN(r)&&!r._isDataFrame&&!r.substring?new a(r):(null!=r&&void 0!=r||(r=n),r)}}col(e){var t=[];return this.foreach((function(n,r){t[r]=n[e]})),new a(t)}hist(e,t,n,r){var i=[],s=!1,o=!1;this.foreach((function(t){var n=t;e&&(n=t[e]),i.push(n),s=!1===s?n:Math.max(s,n),o=!1===o?n:Math.min(o,n)})),null!=n&&void 0!=n&&(o=n),null!=r&&void 0!=r&&(s=r);var l=(s-o)/t,u=[];for(let a=0;a<t;a++)u[a]={bucket:a,count:0,from:a*l+o,to:(a+1)*l+o};for(let a=0;a<i.length;a++)for(var h=i[a],d=0;d<t;d++){var c=u[d];if(h>=c.from&&h<=c.to){c.count++;break}}return new a(u)}set(e,t,n){null!=t&&null!=e?this.data[e][t]=n:null!=e&&(this.data[e]=n)}sortBy(e,t){this.data.length||0==this.data.length?this.data.sort((function(n,r){return n._isDataFrame&&r._isDataFrame?t?r.get(e)-n.get(e):n.get(e)-r.get(e):t?r[e]-n[e]:n[e]-r[e]})):console.error("Can onyl sort array of objects!")}add(e,t){t||(t=e,e=null),t._isDataFrame?this.foreach((function(e,n){return e+t.get(n)}),e):this.foreach((function(e){return e+t}),e)}minus(e,t){t||(t=e,e=null),t._isDataFrame?(console.debu,this.foreach((function(e,n){return e-t.get(n)}),e)):this.foreach((function(e){return e-t}),e)}mutliply(e,t){t||(t=e,e=null),t._isDataFrame?this.foreach((function(e,n){return e*t.get(n)}),e):this.foreach((function(e){return e*t}),e)}divide(e,t){t||(t=e,e=null),t._isDataFrame?this.foreach((function(e,n){return e/t.get(n)}),e):this.foreach((function(e){return e/t}),e)}median(e){let t=[];return this.foreach((function(e){t.push(e)}),e),t=t.sort((function(e,t){return e-t})),t.length>0?t[Math.max(0,Math.floor(t.length/2)-1)]:0}mean(e){const t=this.sum(e);return 0===this.size()?0:1*t/this.size()}max(e){let t=Number.MIN_VALUE;return this.foreach((function(e){t=Math.max(t,e)}),e),t}min(e){let t=Number.MAX_VALUE;return this.foreach((function(e){t=Math.min(t,e)}),e),t}variance(e){var t=this.mean(e),n=0;return this.foreach((function(e){var r=t-e;n+=r*r}),e),1*n/this.size()}std(e){return Math.sqrt(this.variance(e))}sum(e){var t=0;return this.foreach((function(e){t+=e}),e),t}unique(e){var t={},n=0;return this.foreach((function(e){t[e]||(t[e]=!0,n++)}),e),n}uniqueValues(e){var t={},n=[];return this.foreach((function(e){t[e]||(t[e]=!0,n.push(e))}),e),new a(n)}count(e){var t={};return this.foreach((function(e){t[e]||(t[e]=0),t[e]++}),e),new a(t)}groupBy(e){var t={};return this.foreach((function(n){var r=n[e];t[r]||(t[r]=new a([])),t[r].push(n)})),new r.Z(t)}foreach(e,t){if(this.data.length)for(let n=0;n<this.data.length;n++){let r=this.data[n];if(t){let a=e(r[t],n);null!=a&&(r[t]=a)}else{let t=e(r,n);null!=t&&(this.data[n]=t)}}else for(let n in this.data){let r=this.data[n];if(t){let a=e(r[t],n);null!=a&&(r[t]=a)}else{let t=e(r,n);null!=t&&(this.data[n]=t)}}}setIndex(e){var t={},n=e.length;this.foreach((function(r,a){var i=t;for(let t=0;t<n;t++){var s=e[t];let o=r[s];i[o]||(t==n-1?null==i[o]?i[o]=a:console.error("Multi index not supoprted"):i[o]={}),i=i[o]}})),this.index=t}ix(e,t){if(this.index)for(var n=this.index,r=e.length,a=0;a<r;a++){var i=e[a];if(null==n[i])return null;if(a==r-1){var s=n[i];return t?{row:this.data[s],index:s}:this.data[s]}n=n[i]}else console.error("DataFrame.ix() > Error: No Index!");return null}remove(e){this.data.length?this.data.splice(e,1):delete this.data[e]}print(){var e=!1,t=this,n="";return this.foreach((function(r){if(!e){e=!0;for(let e in r)n+=t._correctLength(e,Math.max(20,e.length))+" | ";n+="\n"}for(let e in r)n+=t._correctLength(r[e]+"",Math.max(20,e.length))+" | ";n+="\n"})),console.debug(n),n}_correctLength(e,t){if(e+="",e.length<t)while(e.length<t)e+=" ";else e=e.substring(0,t-3)+".. ";return e}toCSV(e){var t="",n=e.length;return this.foreach((function(r){for(let i=0;i<n;i++){var a=e[i];i>0&&(t+=","),t+=r[a]}t+="\n"})),t}roundTimestampToDate(e){this.foreach((function(e){if(e){var t=new Date(e);return t.setMinutes(0),t.setMilliseconds(0),t.getTime()}return 0}),e)}merge(e){if(Array.isArray(this.data)&&Array.isArray(e.data)){let t=this.data.concat(e.data);return new a(t)}return console.error("DataFrame.merge() > Cannot merge to object frames"),new a([])}}},51804:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(93134),a=n(42477),i=n(52298),s=n(24615),o=n(34287),l=n(4623),u=n(40626),h=n(66839),d=n(14285),c=n(81612),m=null;class f extends c.Z{static getCurrentDialog(){return m}constructor(e){super(),this.autoClose=!0,this.wrapperClass="",this.overflow=!1,this.isFullScreen=!1,this.hasCSSAnimation=!0,e&&e.overflow&&(this.overflow=e.overflow),e&&e.hasCSSAnimation&&(this.hasCSSAnimation=e.hasCSSAnimation),this.log=new d.Z("Dialog")}destroy(){this.log.info("destroy","enter"),m=null,this.cleanUpEvented()}setFullScreen(e){this.hasFullScreen=!0,this.fullScreenListener=e}popup(e,t,n){this.log.log(1,"popup","enter"),m=this,h.Z.publish("vommond/dialog/open",{});var d=document.createElement("div");if(r.Z.add(d,"VommondDialogBackground VommondDialogHidden VommondDialogContentHidden"),this.hasFullScreen){let e=document.createElement("span");r.Z.add(e,"VommondDialogFullScreen mdi mdi-fullscreen"),d.appendChild(e),this.own((0,s.Z)(e,l.Z.press,a.Z.hitch(this,"toggleFullScreen",e)))}var c=document.createElement("div");r.Z.add(c,"VommondDialogContainer"),d.appendChild(c);var f=document.createElement("div");r.Z.add(f,"VommondDialogWrapper"),this.overflow&&r.Z.add(f,"VommondDialogWrapperOverflow"),n&&r.Z.add(f,n),r.Z.add(f,this.wrapperClass),c.appendChild(f);var g=document.createElement("div");r.Z.add(g,"VommondDialogContent"),(0,o.Z)("mobile")&&(r.Z.add(g,"VommondDialogContentMobile"),r.Z.add(f,"VommondDialogWrapperMobile")),f.appendChild(g),g.appendChild(e),i.Z.body().appendChild(d),this.own((0,s.Z)(d,"onmousewheel",a.Z.hitch(this,"stopScroll"))),this.own((0,s.Z)(d,"mousewheel",a.Z.hitch(this,"stopScroll"))),this.own((0,s.Z)(d,"DOMMouseScroll",a.Z.hitch(this,"stopScroll"))),this.own(h.Z.subscribe("matc/canvas/esc",a.Z.hitch(this,"close")));var p=this.getStartPos(t),v=u.Z.position(f),y=u.Z.position(d);if(this.autoClose&&this.own((0,s.Z)(d,l.Z.press,a.Z.hitch(this,"onBackClick"))),f.style.top=p.y+"px",f.style.height=p.h+"px",f.style.width=p.w+"px",f.style.left=p.x+"px",this.hasCSSAnimation){var w=p.w/v.w,b=p.h/v.h,S=" scale("+w+","+b+")";f.style.transform=S}setTimeout((()=>{r.Z.remove(d,"VommondDialogHidden")}),1),setTimeout((()=>{r.Z.remove(d,"VommondDialogContentHidden")}),350),setTimeout((()=>{this.hasCSSAnimation&&(f.style.transform="scale(1,1)"),f.style.top=Math.round((y.h-v.h)/2)+"px",f.style.height=v.h+"px",f.style.width=v.w+"px",f.style.left=Math.round((y.w-v.w)/2)+"px"}),100),this.hasCSSAnimation&&setTimeout((()=>{f.style.transform=""}),500),setTimeout((()=>this.emitOpen()),500),this._dialogBackground=d,this.node=e,this.wrapper=f}onOpen(e){this._onOpenCallback=e}emitOpen(){this._onOpenCallback&&this._onOpenCallback()}getStartPos(e){if(e)return u.Z.position(e);var t=u.Z.position(i.Z.body());return{w:0,h:0,x:t.w/2,y:t.h/2}}resize(e){let t=this.wrapper,n=this._dialogBackground;e.appendChild&&(e=u.Z.position(e,!0));var r=u.Z.position(n);t.style.top=Math.round((r.h-e.h)/2)+"px",t.style.height=e.h+"px",t.style.width=e.w+"px",t.style.left=Math.round((r.w-e.w)/2)+"px"}stopScroll(e){if(this._dialogBackground==e.target)return this.stopEvent(e),!1}onBackClick(e){var t=e.target;t==this._dialogBackground&&(this.stopEvent(e),r.Z.add(this._dialogBackground," VommondDialogHidden"),setTimeout(a.Z.hitch(this,"close"),300))}shake(){var e=u.Z.position(this.wrapper);r.Z.add(this.wrapper,"VommondDialogWrapperShake");var t=this.wrapper;setTimeout((function(){t.style.left=e.x+50+"px"}),1),setTimeout((function(){t.style.left=e.x-50+"px"}),51),setTimeout((function(){t.style.left=e.x+50+"px"}),101),setTimeout((function(){t.style.left=e.x-50+"px"}),151),setTimeout((function(){t.style.left=e.x+"px",r.Z.remove(t,"VommondDialogWrapperShake")}),201)}toggleFullScreen(e){this.isFullScreen=!this.isFullScreen,this.fullScreenListener&&this.fullScreenListener(this.isFullScreen),this.isFullScreen?(r.Z.remove(e,"mdi-fullscreen"),r.Z.add(e,"mdi-fullscreen-exit")):(r.Z.add(e,"mdi-fullscreen"),r.Z.remove(e,"mdi-fullscreen-exit"))}hide(){this.close()}close(){this.emit("close",{}),this._dialogBackground&&i.Z.body().removeChild(this._dialogBackground),this.destroy()}}},55372:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(77907);class a{constructor(e){this.data=e,this._isDataFrame=!1}as_array(){var e=[];return this.foreach((function(t){e.push(t)})),e}size(){return this._foreach("size")}get(e){return this.data[e]}count(e){var t=this._foreach("count",e);return new a(t.data)}max(e){return this._foreach("max",e)}min(e){return this._foreach("min",e)}mean(e){return this._foreach("mean",e)}variance(e){return this._foreach("variance",e)}std(e){return this._foreach("std",e)}sum(e){return this._foreach("sum",e)}unique(e){return this._foreach("unique",e)}groupBy(){}foreach(e){for(let n in this.data){var t=this.data[n];e(t,n)}}_foreach(e,t){var n={};for(let r in this.data){var a=this.data[r],i=a[e](t);n[r]=i}return new r.Z(n)}print(e){for(let n in this.data){var t=this.data[n];e&&t.foreach((function(e,t){console.debug("  ",t,e)}))}}}},77161:function(e,t,n){var r=n(64686);class a{constructor(){this.data={},this.entries=[],this.payloads={}}start(e,t){const n=(new Date).getTime();this.data[e]=n,this.payloads[e]=t}end(e,t=2){if(!this.data[e])return void r.Z.warn("PerformanceMonitor.end() > no key",e);const n=this.data[e],a=(new Date).getTime(),i=a-n;this.entries.push({duration:i,key:e,payload:this.payloads[e]}),i>1e3?(r.Z.warn("PerformanceMonitor.end() > "+e+" took "+i+"ms"),console.table(this.entries)):r.Z.log(t,"PerformanceMonitor.end() > "+e+" took "+i+"ms"),delete this.data[e],delete this.payloads[e]}}t.Z=new a},21200:function(e,t,n){var r=n(42477),a=n(77907),i=n(55372),s=n(77161);t.Z=class{filterEvents(e,t){s.Z.start("Analytics.filterEvents()",e.length);const n={};for(let s=0;s<t.length;s++){let e=t[s];e.isValid||(n[e.reference]=!0)}const r=[],a=e.length;for(let s=0;s<a;s++){var i=e[s];n[i.session]||r.push(i)}return s.Z.end("Analytics.filterEvents()"),r}getSurveyAnswers(e,t,n,r){s.Z.start("Analytics.getSurveyAnswers()",e.length);const i=r.showId,o=r.showTasksSucess,l=r.showTaskDetails,u=r.showTaskDetails,h={ids:[],rows:[],cols:[],labels:[],tasks:[]},d=new a.Z(e);d.sortBy("time");let c={};if(n.tasks){const e=this.getTaskPerformance(d,n.tasks);e.foreach((e=>{c[e.session]||(c[e.session]={}),c[e.session][e.task]=e}))}let m={},f={},g={};Object.values(t.widgets).forEach((e=>{if(!m[e.id]&&(f[e.id]=e.type,e.props&&e.props.isSurveyElement&&"Password"!==e.type))if("RadioTable"===e.type){const t=e.props.data;t&&(g[e.id]=[],t.forEach(((t,n)=>{if(n>0&&t[0]){const n=t[0];g[e.id].push(n),h.cols.push({hidden:!1,key:n,label:n,group:e.name,type:"data",id:e.id})}})))}else m[e.id]=e.name,h.cols.push({hidden:!1,key:e.name,label:e.name,group:e.name,type:"data",id:e.id})})),h.cols.sort(((e,t)=>{e.group.localeCompare(t.group)})),i&&h.cols.unshift({key:"id",label:"ID",type:"id",hidden:!0}),n.tasks&&n.tasks.forEach((e=>{if(o&&h.cols.push({key:e.name,label:e.name,group:e.name,type:"task",hidden:!0}),l){const t=e.name+"_Duration";h.cols.push({key:t,label:t,group:e.name,type:"task",hidden:!0})}if(u){const t=e.name+"_Interactions";h.cols.push({key:t,label:t,group:e.name,type:"task",hidden:!0}),h.cols.push(e.name+"_Interactions")}}));const p=d.groupBy("session");let v=1;return p.foreach(((e,r)=>{let a=`Test ${v}`;const s={},l=[];h.cols.forEach((e=>s[e]="-")),e.sortBy("time");const u=e.as_array();u.forEach((e=>{if(delete e.user,t.widgets[e.widget])if(e.widget&&e.state&&m[e.widget]){const t=m[e.widget];if("Rating"===f[e.widget])s[t]=1*e.state.value+1;else{let n=e.state.value;this.isObject(n)&&(n=Object.entries(n).map((e=>`${e[0]}: ${e[1]}`))),Array.isArray(n)?s[t]=n.join(", "):s[t]=n}}else if(g[e.widget]){const t=g[e.widget],n=e.state.value;t.forEach((e=>{s[e]=n[e]}))}}));const d=u.find((e=>"SessionStart"===e.type));d&&d.label&&(a=d.label),i&&(s["id"]=r),n.tasks&&n.tasks.forEach((e=>{if(c[r]&&c[r][e.id]){const t=c[r][e.id];l.push(t),o&&(s[e.name]="Completed"),o&&(s[e.name+"_Duration"]=Math.round(t.duration/1e3)),o&&(s[e.name+"Interactions"]=t.interactions)}})),h.labels.push(a),h.tasks.push(l),h.ids.push(r),h.rows.push(s)})),console.debug(h.labels),s.Z.end("Analytics.getSurveyAnswers()"),h}isObject(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}nornalizeContainerChildEvents(e){return e.forEach((e=>{e.widget&&e.widget.indexOf("-")>0&&(e.widget=e.widget.substring(0,e.widget.indexOf("-")))})),e}getFirstNClicks(e,t){var n=new a.Z(e),r=n.groupBy("session"),i=[];return r.foreach((function(e){e.sortBy("time");for(var n=e.as_array(),r=0,a=0;a<n.length;a++){var s=n[a];"ScreenLoaded"==s.type||"OverlayLoaded"==s.type?r=0:s.x>=0&&s.y>=0&&!s.noheat&&r<t&&(i.push(s),r++)}})),i}getPValueBionimial(){}getScreenExplorationRate(e,t){const n=Object.keys(t.screens).length,r=e.groupBy("session"),a=r.unique("screen");return a.mean()/n}getSuccessTaskNames(e,t){const n={};for(var r=0;r<t.length;r++)n[t[r].id]=t[r].name;const a={},i=e.groupBy("session");return i.foreach(((e,t)=>{const r=[],i=e.count("task").data;for(let a in i)r.push(n[a]);r.sort(),a[t]=r})),a}getTagAnalytics(e){const t={},n={},r={};for(let a=0;a<e.length;a++){const i=e[a],s=i.sessions;for(let e in s){const a=s[e],i={};for(let e=0;e<a.length;e++){const s=a[e];t[s.tag]||(t[s.tag]=0),t[s.tag]++,i[s.tag]||(n[s.tag]||(n[s.tag]=0),n[s.tag]++,i[s.tag]=!0),r[s.tag]||(r[s.tag]=0),r[s.tag]+=s.start}}}const i=[];for(let a in t)i.push({tag:a,count:t[a],sessions:n[a],time:r[a]/t[a]});return new a.Z(i)}createMatcher(e,t,n){return{name:e,match:null,flowPos:0,step:t[0],endStep:t[t.length-1],flow:t,start:null,startTime:0,strict:n,taskName:"",usePartialMatches:!1,init(e){this.start=e,this.startTime=e.time,this.interactions=0},next(e,t){let n=null;if(this.match&&("WidgetClick"!=e.type&&"WidgetChange"!=e.type&&"ScreenGesture"!=e.type&&"WidgetGesture"!=e.type&&"ScreenClick"!=e.type||this.interactions++),this._match(this.step,e)){if(null==this.match&&(this.match={startTime:e.time,discoveryTime:e.time-this.startTime,endTime:1,startPosition:t,endPosition:-1,duration:0,count:-1,interactions:-1,partial:!1,session:e.session,task:this.name,user:e.user,taskName:this.taskName,hits:[]},"WidgetClick"!=e.type&&"WidgetChange"!=e.type&&"ScreenGesture"!=e.type&&"WidgetGesture"!=e.type&&"ScreenClick"!=e.type||this.interactions++),this.match.hits.push({time:e.time,pos:t,step:this.flowPos}),this.flow.length==this.flowPos+1){var r=this.getEndTime(e);this.match.endTime=r,this.match.endPosition=t,this.match.interactions=this.interactions,this.match.duration=this.match.endTime-this.match.startTime,this.match.count=this.match.endPosition-this.match.startPosition+1,n=this.match,this.match=null,this.flowPos=-1}this.flowPos++,this.step=this.flow[this.flowPos]}return this.usePartialMatches&&null!=this.match&&!this._match(this.step,this.endStep)&&this._match(this.endStep,e)&&(this.match.endTime=e.time,this.match.endPosition=t,this.match.duration=this.match.endTime-this.match.startTime,this.match.count=this.match.endPosition-this.match.startPosition+1,this.match.partial=!0,n=this.match,this.reset()),n},getEndTime(e){if(e.state&&e.state.children){for(var t=e.state.children,n=e.time,r=0;r<t.length;r++)n=Math.max(n,t[r].time);return n}return e.time},_match(e,t){if(e&&t&&e.screen==t.screen&&e.widget==t.widget&&e.type==t.type){if("ScreenGesture"==e.type&&"ScreenGesture"==t.type||"WidgetGesture"==e.type&&"WidgetGesture"==t.type)return!(!e.gesture||!t.gesture)&&e.gesture.type==t.gesture.type;if(("WidgetClick"==e.type||"WidgetChange"==e.type)&&e.state&&t.state){var n=e.state,r=t.state;return"text"==n.type||"typing"==n.type||"select"==n.type||"open"==n.type||"navigate"==n.type?n.type==r.type:n.type==r.type&&n.value==r.value}return!(e.state&&!t.state||!e.state&&t.state)}return!1},reset(){this.match=null,this.flowPos=0,this.step=t[0]}}}matchFlowInSession(e,t,n,r){const a=[],i=this.createMatcher(n,t,r);e.sortBy("time");const s=e.as_array(),o=s.length;i.init(s[0]);for(let l=0;l<o;l++){const e=s[l],n=i.next(e,l);n&&(r?t.length==n.count&&a.push(n):a.push(n))}return a}getFunnelInteraction(e,t,n){const r={},a=this.getTaskPerformance(e,[t]);if(a.data.forEach((e=>{this.addFunnelInteractionSteps(r,e,!1)})),n){const n=this.getFunnelTasks(t);n.forEach((n=>{if(n.flow.length>2&&n.flow.length<t.flow.length){const t=this.getTaskPerformance(e,[n]);t.data.forEach((e=>{r[e.session]||this.addFunnelInteractionSteps(r,e,!0)}))}}))}return r}addFunnelInteractionSteps(e,t,n=!1){let r=0;e[t.session]=[],t.hits.forEach((a=>{const i=a.pos-r;e[t.session].push({value:i,dropoff:n}),r=a.pos}))}getFunnelDuration(e,t,n=!1){const r={},a=this.getTaskPerformance(e,[t]);if(a.data.forEach((e=>{this.addFunnelDurartionSteps(r,e)})),n){const n=this.getFunnelTasks(t);n.forEach((n=>{if(n.flow.length>2&&n.flow.length<t.flow.length){const t=this.getTaskPerformance(e,[n]);t.data.forEach((e=>{r[e.session]||this.addFunnelDurartionSteps(r,e,!0)}))}}))}return r}addFunnelDurartionSteps(e,t,n=!1){let r=t.startTime;e[t.session]=[],t.hits.forEach((a=>{const i=a.time-r;e[t.session].push({value:i,dropoff:n}),r=a.time}))}getFunnelMax(e){let t=0;for(let n in e){let r=e[n];r.forEach((e=>{t=Math.max(t,e.value)}))}return t}getSessionSummary(e){const t={},n=e.groupBy("session");return n.foreach(((e,n)=>{const r=e.count("type"),a=r.get("ScreenLoaded",null,0)+r.get("OverlayLoaded",null,0),i=e.unique("screen"),s=e.select("type","in",["ScreenClick","WidgetClick","WidgetChange","ScreenGesture","WidgetGesture"]);t[n]={session:n,size:e.size(),interactions:s.size(),date:e.min("time"),duration:Math.ceil(e.max("time")-e.min("time")),screenLoads:a,screenUnique:i,screenRatio:i/a,errors:r.get("ValidationError",null,0)}})),t}getSessionDetails(e,t){e.sortBy("time");const n=this.getSessionSummary(e);Object.values(n).forEach((e=>{e.tasks=0;for(let n=0;n<t.length;n++){const r=t[n];e[r.id]={name:r.name,success:0,duration:-1,interactions:-1}}}));const r=this.getTaskPerformance(e,t).data;return r.forEach((e=>{const t=n[e.session];if(t){t.tasks++;const n=t[e.task];n.success=1,n.duration=e.duration,n.interactions=e.interactions}else console.error("Analytics.getSessionDetails() > No session ??")})),new a.Z(Object.values(n))}convertSessionDetails(e){return e.data.map((e=>{const t={};for(let n in e)if("start"!==n){const r=e[n];r.name?t[n]=r.success:t[n]=r}return t}))}getTaskPerformance(e,t,n,r){s.Z.start("Analytics.getTaskPerformance()");const i=[],o=[];for(let a=0;a<t.length;a++){const e=t[a],n=e.flow;if(n&&n.length>0){const t=this.createMatcher(e.id,n,e.strict);t.taskName=e.name,o.push(t)}}const l=o.length;e.sortBy("time");const u=e.groupBy("session");return u.foreach((e=>{const t=e.as_array(),a=t.length;for(let n=0;n<l;n++){const e=o[n];e.reset(),e.init(t[0]),e.disabled=!1}for(let s=0;s<a;s++){const e=t[s];for(let t=0;t<l;t++){const a=o[t];if(!a.disabled){const t=a.next(e,s);t&&(t.partial&&r||!t.partial)&&(a.strict?t.count==a.flow.length&&i.push(t):i.push(t),n||(a.disabled=!0))}}}})),s.Z.end("Analytics.getTaskPerformance()"),new a.Z(i)}getMergedTaskPerformance(e,t,n){let r=[];const i=this.getTaskPerformance(e,t);i.setIndex(["session","task"]);const s=n.length;for(let a=0;a<s;a++){const e=n[a];if(e.isValid){const t=e.reference;for(let n in e.tasks){const a=e.tasks[n],s=i.ix([t,n],!0);if(a&&!s)r.push({startTime:-1,discoveryTime:-1,endTime:-1,startPosition:-1,endPosition:-1,duration:0,count:-1,partial:!1,session:t,task:n,user:""});else if(s&&!a){const e=s.index;i.remove(e)}}}}return r=i.data.concat(r),new a.Z(r)}getFunnelSummary(e,t,n){const r=this.getFunnelTasks(t),a=this.getTaskSummary(e,r,n),i=e.count("session").size(),s=[{label:t.name+"_all",id:t.id+"_all",value:i,sessionCount:i,p:1,flow:0}],o=s.concat(a.reverse());for(let l=1;l<o.length;l++){const e=o[l];e.event=t.flow[l-1]}return o}getFunnelTasks(e){const t=[],n=r.Z.clone(e.flow);while(n.length>0){const a=r.Z.clone(e);a.id=e.id+"_"+n.length,a.name+=e.name+"_"+n.length,a.flow=r.Z.clone(n),t.push(a),n.pop()}return t}getTaskStarts(e,t){const n=t.map((e=>{const t=r.Z.clone(e);return t.id=e.id,t.name=e.name,t.flow=[e.flow[0]],t})),a=this.getTaskPerformance(e,n);return a}getTaskSummary(e,t,n){const r=e.count("session").size(),a=this.getMergedTaskPerformance(e,t,n),i=a.groupBy("task"),s=this.getTaskStarts(e,t),o=s.groupBy("task"),l=[];for(let u=0;u<t.length;u++){const e=t[u];let n=i.get(e.id);if(n){const t=n.size(),a=o.get(e.id);let i=a?a.size():r;n=n.select("startTime",">",0),l.push({label:e.name,id:e.id,value:t,sessionCount:r,sessionStart:i/r,p:t/i,success:t/i,successRel:t/i,successAbs:t,flow:e.flow.length,startCount:i,startRel:i/r,startMean:n.mean("startPosition"),startStd:n.std("startPosition"),discoveryTimeMean:n.mean("discoveryTime"),discoveryTimeStd:n.std("discoveryTime"),durationMean:n.mean("duration"),durationMedian:n.median("duration"),durationStd:n.std("duration"),countMean:n.mean("count"),countStd:n.std("count"),interactionsMean:n.mean("interactions"),interactionsStd:n.std("interactions")})}else l.push({label:e.name,id:e.id,sessionCount:r,value:0,p:0,startCount:0,success:0,successRel:0,successAbs:0,flow:e.flow.length,startAbs:0,startMean:0,startStd:0,discoveryTimeMean:0,discoveryTimeStd:0,durationMean:0,durationMedian:0,durationStd:0,countMean:0,countStd:0,interactionsMean:0,interactionsStd:0})}return l}getOverlayTimeGrouping(e){var t=e.groupBy("session"),n={};return t.foreach((function(e){e.sortBy("time");var t={},r=-1,i=null,s=null;if(e.foreach((function(e){s=e["type"],r=e["time"];var o=e["overlay"];if("OverlayLoaded"==s&&(t[o]=r,i=o),"OverlayRemoved"==s){if(t[o]){n[o]||(n[o]=new a.Z([]));var l=r-t[o];n[o].push(l)}delete t[o]}if("ScreenLoaded"==s){for(let e in t){n[e]||(n[e]=new a.Z([]));let i=r-t[e];n[e].push(i)}t={}}})),t[i]&&r>0&&"OverlayLoaded"!=s){n[i]||(n[i]=new a.Z([]));var o=r-t[i];n[i].push(o)}})),new i.Z(n,a.Z)}getScreenTimeGrouping(e){var t=e.groupBy("session"),n={};return t.foreach((function(e){e.sortBy("time");var t=-1,r=-1,i=null,s=null;if(e.foreach((function(e){s=e["type"],r=e["time"];var o=e["screen"];if("ScreenLoaded"==s){if(t>-1){n[i]||(n[i]=new a.Z([]));var l=r-t;n[i].push(l)}t=r,i=o}})),t>0&&r>0&&"ScreenLoaded"!=s){n[i]||(n[i]=new a.Z([]));var o=r-t;n[i].push(o)}})),new i.Z(n,a.Z)}getScreenTime(e){var t=e.groupBy("session"),n={};return t.foreach((function(e){e.sortBy("time");var t=-1,r=null,a=null,i=-1;if(e.foreach((function(e){var a=e["type"];i=e["time"];var s=e["screen"];if("ScreenLoaded"==a){if(t>-1){n[r]||(n[r]=0);var o=i-t;n[r]+=o}t=i,r=s}})),t>0&&i>0&&"ScreenLoaded"!=a){n[r]||(n[r]=0);var s=i-t;n[r]+=s}})),new a.Z(n)}getWidgetStatistics(e,t){var n={},r=t.select("type","==","WidgetClick"),a=r.count("widget"),i=a.sum(),s=this.getWidgetDiscoverTime(t),o=s.mean(),l=o.max(),u=s.std(),h=s.size(),d=this.getWidgetFirstClick(t),c=d.sum(),m=t.select("type","in",["ScreenLoaded","OverlayLoaded"]),f=m.count("screen");for(var g in e.widgets){var p=this._getParentScreenID(e,g);n[g]={clicksAbs:a.get(g,null,0),clicksRel:a.get(g,null,0)/i,discoverTimeAbs:o.get(g,null,0),discoverTimeRel:o.get(g,null,0)/l,discoverTimeStd:u.get(g,null,0),views:h.get(g,null,0),firstClicksAbs:d.get(g,null,0),firstClicksRelApp:d.get(g,null,0)/c,firstClicksRelScreen:d.get(g,null,0)/f.get(p,null,0)}}return n}_getParentScreenID(e,t){for(var n in e.screens){var r=e.screens[n],a=r.children.indexOf(t);if(a>-1)return r.id}return null}getWidgetDiscoverTime(e){var t=e.groupBy("session"),n={};return t.foreach((function(e){e.sortBy("time");var t=0,r={};e.foreach((function(e){var i=e["type"],s=e["widget"],o=e["time"];"ScreenLoaded"==i||"OverlayLoaded"==i?(t=o,r={}):"WidgetClick"==i&&s&&(r[s]||(n[s]||(n[s]=new a.Z([])),n[s].push(o-t),r[s]=!0))}))})),new i.Z(n)}getWidgetFirstClick(e){var t=e.groupBy("session"),n={};return t.foreach((function(e){e.sortBy("time");var t=0;e.foreach((function(e){var r=e["type"],a=e["widget"];"ScreenLoaded"==r||"OverlayLoaded"==r?t=0:"WidgetClick"==r&&a&&0==t&&(n[a]||(n[a]=0),n[a]++,t++)}))})),new a.Z(n)}getWidgetDiscoverOrder(e){var t=e.groupBy("session"),n={};return t.foreach((function(e){e.sortBy("time");var t=null,r=0;e.foreach((function(e){t=e["type"];var i=e["widget"];"ScreenLoaded"!=t&&"OverlayLoaded"!=t||(r=0),i&&(r++,n[i]||(n[i]=new a.Z([])),n[i].push(r))}))})),new i.Z(n,a.Z)}}},88446:function(e,t,n){n.d(t,{p6:function(){return pe},PL:function(){return ye},vW:function(){return ve}});var r={};function a(){return r}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function o(e){s(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function l(e,t){s(2,arguments);var n=o(e),r=o(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function u(e,t){s(2,arguments);var n=o(e),r=o(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return 12*a+i}function h(e){s(1,arguments);var t=o(e);return t.setHours(23,59,59,999),t}function d(e){s(1,arguments);var t=o(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function c(e){s(1,arguments);var t=o(e);return h(t).getTime()===d(t).getTime()}function m(e,t){s(2,arguments);var n,r=o(e),a=o(t),i=l(r,a),h=Math.abs(u(r,a));if(h<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*h);var d=l(r,a)===-i;c(o(e))&&1===h&&1===l(e,a)&&(d=!1),n=i*(h-Number(d))}return 0===n?0:n}function f(e,t){return s(2,arguments),o(e).getTime()-o(t).getTime()}var g={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},p="trunc";function v(e){return e?g[e]:g[p]}function y(e,t,n){s(2,arguments);var r=f(e,t)/1e3;return v(null===n||void 0===n?void 0:n.roundingMethod)(r)}var w={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b=function(e,t,n){var r,a=w[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},S=b;function k(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var M={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},x={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},C={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T={date:k({formats:M,defaultWidth:"full"}),time:k({formats:x,defaultWidth:"full"}),dateTime:k({formats:C,defaultWidth:"full"})},Z=T,D={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},B=function(e,t,n,r){return D[e]},P=B;function E(e){return function(t,n){var r,a=null!==n&&void 0!==n&&n.context?String(n.context):"standalone";if("formatting"===a&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[o]}var u=e.argumentCallback?e.argumentCallback(t):t;return r[u]}}var W={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},O={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},L={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},A={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},F={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},V=function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},z={ordinalNumber:V,era:E({values:W,defaultWidth:"wide"}),quarter:E({values:_,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:E({values:O,defaultWidth:"wide"}),day:E({values:L,defaultWidth:"wide"}),dayPeriod:E({values:A,defaultWidth:"wide",formattingValues:F,defaultFormattingWidth:"wide"})},I=z;function N(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s,o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?G(l,(function(e){return e.test(o)})):R(l,(function(e){return e.test(o)}));s=e.valueCallback?e.valueCallback(u):u,s=n.valueCallback?n.valueCallback(s):s;var h=t.slice(o.length);return{value:s,rest:h}}}function R(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function G(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function j(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var U=/^(\d+)(th|st|nd|rd)?/i,H=/\d+/i,q={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},X={any:[/^b/i,/^(a|c)/i]},Y={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$={any:[/1/i,/2/i,/3/i,/4/i]},J={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Q={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},K={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},te={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},re={ordinalNumber:j({matchPattern:U,parsePattern:H,valueCallback:function(e){return parseInt(e,10)}}),era:N({matchPatterns:q,defaultMatchWidth:"wide",parsePatterns:X,defaultParseWidth:"any"}),quarter:N({matchPatterns:Y,defaultMatchWidth:"wide",parsePatterns:$,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:N({matchPatterns:J,defaultMatchWidth:"wide",parsePatterns:Q,defaultParseWidth:"any"}),day:N({matchPatterns:K,defaultMatchWidth:"wide",parsePatterns:ee,defaultParseWidth:"any"}),dayPeriod:N({matchPatterns:te,defaultMatchWidth:"any",parsePatterns:ne,defaultParseWidth:"any"})},ae=re,ie={code:"en-US",formatDistance:S,formatLong:Z,formatRelative:P,localize:I,match:ae,options:{weekStartsOn:0,firstWeekContainsDate:1}},se=ie,oe=se;function le(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function ue(e){return le({},e)}function he(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var de=1440,ce=2520,me=43200,fe=86400;function ge(e,t,n){var r,i;s(2,arguments);var u=a(),h=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:u.locale)&&void 0!==r?r:oe;if(!h.formatDistance)throw new RangeError("locale must contain formatDistance property");var d=l(e,t);if(isNaN(d))throw new RangeError("Invalid time value");var c,f,g=le(ue(n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:d});d>0?(c=o(t),f=o(e)):(c=o(e),f=o(t));var p,v=y(f,c),w=(he(f)-he(c))/1e3,b=Math.round((v-w)/60);if(b<2)return null!==n&&void 0!==n&&n.includeSeconds?v<5?h.formatDistance("lessThanXSeconds",5,g):v<10?h.formatDistance("lessThanXSeconds",10,g):v<20?h.formatDistance("lessThanXSeconds",20,g):v<40?h.formatDistance("halfAMinute",0,g):v<60?h.formatDistance("lessThanXMinutes",1,g):h.formatDistance("xMinutes",1,g):0===b?h.formatDistance("lessThanXMinutes",1,g):h.formatDistance("xMinutes",b,g);if(b<45)return h.formatDistance("xMinutes",b,g);if(b<90)return h.formatDistance("aboutXHours",1,g);if(b<de){var S=Math.round(b/60);return h.formatDistance("aboutXHours",S,g)}if(b<ce)return h.formatDistance("xDays",1,g);if(b<me){var k=Math.round(b/de);return h.formatDistance("xDays",k,g)}if(b<fe)return p=Math.round(b/me),h.formatDistance("aboutXMonths",p,g);if(p=m(f,c),p<12){var M=Math.round(b/me);return h.formatDistance("xMonths",M,g)}var x=p%12,C=Math.floor(p/12);return x<3?h.formatDistance("aboutXYears",C,g):x<9?h.formatDistance("overXYears",C,g):h.formatDistance("almostXYears",C+1,g)}function pe(e,t=!1){if(!e)return"";const n=Date.now()-e,r=new Date(e);return n>2592e6?t?r.toLocaleDateString():r.toLocaleString():ge(r,new Date,{addSuffix:!0})}function ve(e){let t="";return e.name&&(t=e.name+" "),e.lastname&&(t+=e.lastname),0==t.length&&(t=e.email),t}function ye(e){let t="";if(e.name)t+=e.name.substring(0,1).toUpperCase(),e.lastname&&(t+=e.lastname.substring(0,1).toUpperCase());else{let n=e.email.split(".");n.length>0&&(t+=n[0].substring(0,1).toUpperCase()),n.length>1&&(t+=n[1].substring(0,1).toUpperCase())}return t}}}]);
//# sourceMappingURL=890.8ae2cc1e.js.map