"use strict";(self["webpackChunkquant_ux"]=self["webpackChunkquant_ux"]||[]).push([[443],{14680:function(e,t,s){s.d(t,{Z:function(){return g}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"VommondCheckBoxWrapper"},[e._m(0),e.label?s("span",{staticClass:"VommondCheckBoxLabel"},[e._v(e._s(e.label))]):e._e()])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"VommondCheckBox"},[s("span",{staticClass:"VommondCheckBoxHook",attrs:{"data-dojo-attach-point":"hook"}})])}],o=s(93921),n=s(93134),r=s(4623),l=s(42477),c=s(24615),d=s(14285),h={name:"CheckBox",mixins:[o.Z],data:function(){return{checked:!1}},props:["label","value"],components:{},methods:{postCreate(){this.log=new d.Z("CheckBox"),this.own((0,c.Z)(this.domNode,r.Z.press,l.Z.hitch(this,"onChange"))),(this.value||"true"===this.value)&&this.setValue(!0)},getValue(){return this.checked},setValue(e){this.checked=e,e?n.Z.add(this.domNode,"VommondCheckBoxChecked"):n.Z.remove(this.domNode,"VommondCheckBoxChecked")},setLabel(e){this.label=e},onChange(e){this.stopEvent(e),this.setValue(!this.checked),this.emit("change",this.checked),this.emit("input",this.checked)}},watch:{value(e){this.setValue(e)}},mounted(){this.log.log(10,"mounted","enter")}},u=h,m=s(43736),p=(0,m.Z)(u,a,i,!1,null,null,null),g=p.exports},98654:function(e,t,s){s.d(t,{Z:function(){return u}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"MatcHelp"},[e.loading?s("span",{staticClass:"MatchHint"},[e._v(" Loading... ")]):s("div",{staticClass:"MatcHelpContentCntr"},[s("h2",[e._v(e._s(e.current.title))]),s("p",{staticClass:"MatcHelpContentParagraph",domProps:{innerHTML:e._s(e.current.body)}}),e.current.image?s("div",{staticClass:"MatcHelpContenImage"},[s("img",{attrs:{src:e.current.image.src}})]):e._e(),e.current.image&&e.current.image.caption?s("caption",[e._v(e._s(e.current.image.caption))]):e._e(),s("div",{staticClass:"MatcHelpContentVideo"},[e.current.video?s("iframe",{attrs:{width:560*e.videoScaleFactor,height:315*e.videoScaleFactor,src:e.current.video.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):e._e()]),e.current.hasContact?s("div",[s("div",{staticClass:"form-group"},[s("label",[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.contactEmail,expression:"contactEmail"}],staticClass:"form-control MatcIgnoreOnKeyPress",domProps:{value:e.contactEmail},on:{input:function(t){t.target.composing||(e.contactEmail=t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[e._v("Message")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contactMessage,expression:"contactMessage"}],staticClass:"form-control MatcIgnoreOnKeyPress",domProps:{value:e.contactMessage},on:{input:function(t){t.target.composing||(e.contactMessage=t.target.value)}}})]),s("div",{staticClass:"MatcButtonBar"},[s("div",{staticClass:"MatcButton MatcButtonPrimary",on:{click:e.sendContact}},[e._v("Send")]),s("span",{staticClass:"MatcError"},[e._v(" "+e._s(e.contactError)+" ")]),s("span",{staticClass:"MatcSuccess"},[e._v(" "+e._s(e.concatSucess)+" ")])])]):e._e(),e._l(e.current.paragraphs,(function(t){return s("div",{key:t.id,ref:"paragraph",refInFor:!0,class:"MatcHelpContentParagraph "+t.css,attrs:{pid:t.id}},[t.title?s("h3",[e._v(" "+e._s(t.title)+" ")]):e._e(),s("p",{domProps:{innerHTML:e._s(t.body)}}),t.image?s("div",{staticClass:"MatcHelpContenImage"},[s("img",{attrs:{src:t.image.src}})]):e._e(),t.image&&t.image.caption?s("caption",[e._v(e._s(t.image.caption))]):e._e(),t.video?s("iframe",{attrs:{width:560*e.videoScaleFactor,height:315*e.videoScaleFactor,src:t.video.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):e._e()])}))],2),s("div",{},[e.hasSideBar?s("div",{staticClass:"MatcHelpTopics"},[e.hasSearch?s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:" MatcCreateSearch MatcIgnoreOnKeyPress form-control",attrs:{type:"search",placeholder:"Search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]):e._e(),e.loading?s("span",{staticClass:"MatchHint"},[e._v(" Loading... ")]):e._e(),s("div",{staticClass:"MatcHelpTopicsCntr"},[e.standalone?s("div",[e._l(e.topics,(function(t){return[s("a",{key:t.id,ref:"links",refInFor:!0,class:[{selected:t.id===e.selected&&!e.selectedParagraph},t.css],attrs:{href:"#/help/"+t.id+".html",topicid:t.id}},[e._v(" "+e._s(t.name)+" ")]),t.id===e.selected?[e._l(t.paragraphs,(function(a,i){return[a.title?s("a",{key:i,ref:"links",refInFor:!0,class:["MatcHelpSubTopic",{selected:a.id===e.selectedParagraph}],attrs:{href:"#/help/"+t.id+"/"+a.id+".html",topicid:a.id}},[e._v(" "+e._s(a.title)+" ")]):e._e()]}))]:e._e()]}))],2):s("div",[e._l(e.topics,(function(t){return[s("a",{key:t.id,ref:"links",refInFor:!0,class:[{selected:t.id===e.selected&&!e.selectedParagraph},t.css],attrs:{topicid:t.id},on:{click:function(s){return e.setTopic(t.id)}}},[e._v(" "+e._s(t.name)+" ")]),t.id===e.selected?[e._l(t.paragraphs,(function(t,a){return[t.title?s("a",{key:a,ref:"links",refInFor:!0,class:["MatcHelpSubTopic",{selected:t.id===e.selectedParagraph}],attrs:{topicid:t.id},on:{click:function(s){return s.stopPropagation(),e.setSupTopic(t.id)}}},[e._v(" "+e._s(t.title)+" ")]):e._e()]}))]:e._e()]}))],2)])]):e._e()])])},i=[],o=s(93921),n=s(27437),r=s(20144),l={name:"HelpButton",mixins:[o.Z],props:["help","standalone"],data:function(){return{texts:[],selected:"getting_started",selectedParagraph:"",search:"",hasSideBar:!0,hasSearch:!1,hasNotifications:!0,contactName:"",contactEmail:"",contactMessage:"",contactError:"",concatSucess:"",videoScaleFactor:1.2}},components:{},computed:{loading(){return 0===this.texts.length},current(){let e=this.texts.find((e=>e.id===this.selected));return e||(e=this.texts[0]),e},topics(){let e=this.search.toLowerCase();return e.length>2?this.texts.filter((t=>{if(t._all&&t._all.indexOf(e)>=0)return!0})):this.texts}},methods:{setTopic(e){this.selected=e,this.selectedParagraph=""},setSupTopic(e,t=!1){this.selectedParagraph=e,r.Z.nextTick((()=>{this.focus(e,t)}))},focus(e,t){if(this.$refs.paragraph){let t=this.$refs.paragraph.find((t=>t.getAttribute("pid")===e));t&&t.scrollIntoView()}setTimeout((()=>{if(t&&this.$refs.links){let t=this.$refs.links.find((t=>t.getAttribute("topicid")===e));t&&t.scrollIntoView()}}),100)},convertNotification(e){let t={id:"notifications."+e.id,title:e.title,body:e.more};if(e.video){let s=e.video;s.indexOf('src="')>0&&(s=s.substring(s.indexOf('src="')+5),s=s.substring(0,s.indexOf('"'))),t.video={src:s}}return t},async sendContact(){if(this.contactEmail&&this.contactMessage){let e=await n.Z.getUserService().contact(this.contactName,this.contactEmail,this.contactMessage);e&&(this.$root.$emit("Success","Thanks for contacting us! The dialog will close automatically"),this.concatSucess="Thanks for contacting us! The dialog will close automatically",this.contactError="",setTimeout((()=>{this.selected="default"}),2e3))}else this.contactError="Please fill out the form",this.concatSucess=""},setTopicByRoute(){this.$route.params.topic&&this.setTopic(this.$route.params.topic),this.$route.params.subtopic&&this.setSupTopic(this.$route.params.subtopic)}},watch:{$route(){this.setTopicByRoute()}},async mounted(){this.standalone&&(this.hasNotifications=!1,this.videoScaleFactor=.9);let e=await n.Z.getHelpService().getAll();if(this.hasNotifications){let t=await n.Z.getUserService().getNotications();t&&(t.sort((function(e,t){return t.lastUpdate-e.lastUpdate})),e=[{id:"notifications",name:"News",title:"News",body:"\n                    ",paragraphs:t.map((e=>this.convertNotification(e)))}].concat(e),this.selected="notifications")}this.texts=e,this.selectedParagraph&&r.Z.nextTick((()=>{this.focus(this.selectedParagraph)})),this.standalone&&this.setTopicByRoute()}},c=l,d=s(43736),h=(0,d.Z)(c,a,i,!1,null,"10964c5c",null),u=h.exports},18898:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"VommondContentContainer"},[s("div",{staticClass:"MatcHeader MactMainGradient MatcHeaderTab bs-docs-header"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row MatcHeaderTopRow"},[s("div",{staticClass:"col-md-12"},[e._v(" Ooopss... Something went wrong! ")])]),s("div",{staticClass:"row MatcHeaderBottomRow"},[s("div",{staticClass:"col-md-12 MatcRight"})])])]),s("div",{staticClass:"MatcContent MatcAbout"},[s("div",{staticClass:"MatcSection MatcSectionOdd"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[e._v(" Something went wrong ")])])])])])])])}],o=s(27437),n={name:"Page404",mixins:[],data:function(){return{name:"",email:"",message:"",done:!1}},methods:{async send(){let e=await o.Z.getUserService().contact(this.name,this.email,this.message);e&&(this.done=!0)}},mounted(){}},r=n,l=s(43736),c=(0,l.Z)(r,a,i,!1,null,null,null),d=c.exports},69540:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"VommondContentContainer"},[s("div",{staticClass:"MatcContent MatcMarginTopXXL"},[s("div",{staticClass:"MatcSection MatcSectionOdd"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 MatcPaddingBottomXXL"},[s("Help",{attrs:{standalone:!0}})],1)])])])])])])},i=[],o=s(27437),n=s(98654),r={name:"HelpPage",mixins:[],data:function(){return{name:"",email:"",message:"",done:!1}},components:{Help:n.Z},methods:{async send(){let e=await o.Z.getUserService().contact(this.name,this.email,this.message);e&&(this.done=!0)}},mounted(){}},l=r,c=s(43736),d=(0,c.Z)(l,a,i,!1,null,null,null),h=d.exports},41800:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"VommondContentContainer"},[s("div",{staticClass:"MatcContent MatcAbout"},[s("div",{staticClass:"MatcSection MatcSectionOdd"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[e._v(" For login has expired. Please login again. ")])])])])])])])}],o=s(27437),n={name:"LogoutPage",mixins:[],data:function(){return{}},methods:{},mounted(){setTimeout((()=>{o.Z.getUserService().logout(),location.href="/"}),3e3)}},r=n,l=s(43736),c=(0,l.Z)(r,a,i,!1,null,null,null),d=c.exports},17522:function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"VommondContentContainer"},[s("div",{staticClass:"MatcContent MatcMarginTopXXL "},[s("div",{staticClass:"MatcSection"},[e.user?s("div",{staticClass:"container"},[s("h2",[e._v("My Account")]),s("p",{staticClass:"MatcLead MatcMarginBottomXL"},[e._v(" Change your personal settings here! ")]),s("div",{staticClass:"row"},[e.isQuxAuth?s("div",{staticClass:"col-md-8 "},[s("div",{attrs:{"data-dojo-type":"de/vommond/Form"}},[s("div",{staticClass:"form-group MatcHoverHint",on:{dblclick:function(t){e.isEmailDisabled=!1}}},[s("label",[e._v(" Email "),e.isEmailDisabled?s("span",{staticClass:"MatcHint"},[e._v("(double click to edit)")]):e._e()]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],ref:"emailField",staticClass:"form-control",attrs:{type:"email",disabled:e.isEmailDisabled,placeholder:"Your email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[e._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter your name","data-binding-required":"true"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[e._v("Lastname")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastname,expression:"user.lastname"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter your lastname","data-binding-required":"true"},domProps:{value:e.user.lastname},on:{input:function(t){t.target.composing||e.$set(e.user,"lastname",t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[e._v("Homepage")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.homepage,expression:"user.homepage"}],staticClass:"form-control",attrs:{type:"text",placeholder:"http://www.yourpage.com"},domProps:{value:e.user.homepage},on:{input:function(t){t.target.composing||e.$set(e.user,"homepage",t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"To change, enter new password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[e._v("Newsletter")]),s("div",[s("CheckBox",{attrs:{label:"I want to receive the newsletter"},model:{value:e.user.newsletter,callback:function(t){e.$set(e.user,"newsletter",t)},expression:"user.newsletter"}})],1)]),s("div",{staticClass:"MatcErrorLabel"},[e._v(" "+e._s(e.error)+" ")]),s("div",{staticClass:"MatcButtonBar"},[s("a",{staticClass:"MatcButton",on:{click:e.save}},[e._v("Save")]),s("a",{staticClass:"MatcLinkButton",attrs:{href:"#/apps/my-apps.html"}},[e._v("Cancel")])])])]):s("div",{staticClass:"col-md-8"},[s("p",{staticClass:"MatcLead MatcMarginBottomXL"},[e._v(" Your credentials are managed in Keycloak. Contact your admin for help. ")])]),s("div",{staticClass:"col-md-2 col-md-offset-1 visible-md-block visible-lg-block"},[s("Label",[e._v("Image")]),s("UserImage",{attrs:{user:e.user},on:{change:e.onImageChanged}})],1)]),s("div",{staticClass:"row "},[s("div",{staticClass:"col-md-8 MatcMarginTopXXL"},[s("p",{staticClass:"MatcDangerBox"},[e._v(" If you want to delete your account, click "),s("a",{on:{click:e.retire}},[e._v("here")]),e._v(". All your data will be removed, including your prototypes. If you want to save them, export them as *.zip files. ")])])])]):e._e()])])])},i=[],o=s(42477),n=s(24615),r=s(51804),l=s(55887),c=s(14285),d=s(93921),h=s(27437),u=s(14680),m=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},p=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"MatcUser MatcUserImageUploader"},[s("div",{staticClass:"MatcCenter MatcInline"},[s("div",{staticClass:"MatcUserImageCntr",attrs:{"data-dojo-attach-point":"imageCntr"}}),s("div",{staticClass:"MatcActionBar",attrs:{"data-dojo-attach-point":"imageActions"}})])])}],g=s(93134),v=s(4623),f={name:"UserImage",mixins:[d.Z],props:["user"],data:function(){return{value:{}}},components:{},methods:{constructor(){this.logger=new c.Z("UserImageUploader"),this.logger.log(2,"constructor","entry")},postCreate(){this._initFileDnD(document.documentElement),this.value=this.user,this.render(this.value)},render(e){this.cleanUp();var t=new l.Z;if(e.image){t.img("rest/user/"+e.id+"/images/"+e.name+"_"+e.lastname+"/"+e.image,"MatcUserImage").build(this.imageCntr);var s=t.div("MatcActionBarBtn MatcUploadButton","Change").build(this.imageActions);this.file=t.file("MatcImageUploadFile").build(s),this.tempOwn((0,n.Z)(this.file,"change",o.Z.hitch(this,"_onFileChange")));var a=t.a("MatcActionBarBtn","Remove").build(this.imageActions);this.tempOwn((0,n.Z)(a,v.Z.press,o.Z.hitch(this,"_deleteImage")))}else{var i=t.span(" mdi mdi-plus-circle","").build(this.imageCntr);this.file=t.file("MatcImageUploadFile").build(i),this.tempOwn((0,n.Z)(this.file,"change",o.Z.hitch(this,"_onFileChange"))),g.Z.add(this.imageCntr,"MatcImageUploadAdd"),t.span("MatcHint","Click or Drop file to upload an image").build(this.imageActions)}},cleanUp(){this.imageCntr.innerHTML="",this.imageActions.innerHTML="",g.Z.remove(this.domNode,"MatcImageUploadDND"),g.Z.remove(this.imageCntr,"MatcImageUploadAdd"),this.cleanUpTempListener()},_stop(e,t){return t.preventDefault,t.preventDefault(),e?g.Z.remove(this.domNode,"MatcImageUploadDND"):g.Z.add(this.domNode,"MatcImageUploadDND"),!1},onFileDropped(e){e.preventDefault,e.preventDefault(),this.stopEvent(e);var t=e.dataTransfer;return this._files=t.files,g.Z.remove(this.domNode,"MatcImageUploadDND"),this._sendFiles(),!1},_onFileChange(e){this.stopEvent(e),this._files=this.file.files,g.Z.remove(this.domNode,"MatcImageUploadDND"),this._sendFiles()},_sendFiles:function(){var e=this;let t=h.Z.getUserService().getToken();for(var s=new FormData,a=0;a<this._files.length;a++)s.append("file",this._files[a]);var i=new XMLHttpRequest;i.open("POST","rest/user/"+this.user.id+"/images/"),i.setRequestHeader("Authorization","Bearer "+t),i.onload=function(){200===i.status?e.onUploadDone():e.onUploadError()},i.send(s)},async _deleteImage(e){this.stopEvent(e),await h.Z.getUserService().deleteImage(this.value),this.load(),this.$emit("change")},onUploadDone(){this.load(),this.$emit("change")},async load(){let e=await h.Z.getUserService().loadById(this.value.id);this.setUser(e)},setUser(e){this.value=e,this.render(e)},onUploadError:function(){},_initFileDnD(e){this._fileDnDListeners=[],this._fileDnDListeners.push((0,n.Z)(e,"dragenter",o.Z.hitch(this,"_stop",!1))),this._fileDnDListeners.push((0,n.Z)(e,"dragover",o.Z.hitch(this,"_stop",!1))),this._fileDnDListeners.push((0,n.Z)(e,"dragleave",o.Z.hitch(this,"_stop",!0))),this._fileDnDListeners.push((0,n.Z)(e,"drop",o.Z.hitch(this,"onFileDropped")))},_destroyFileDnD:function(){if(this._fileDnDListeners)for(var e=0;e<this._fileDnDListeners.length;e++)this._fileDnDListeners[e].remove();delete this._fileDnDListeners},destroy:function(){this.cleanUpTempListener(),this._destroyFileDnD()}},mounted(){}},C=f,_=s(43736),w=(0,_.Z)(C,m,p,!1,null,null,null),M=w.exports,Z={name:"Finish",mixins:[d.Z],data:function(){return{isEmailDisabled:!0,password:"",error:"",user:null,errorHomepage:!1,errorName:!1,errorLastName:!1}},watch:{},components:{CheckBox:u.Z,UserImage:M},computed:{isQuxAuth(){return"keycloak"!==h.Z.getConfig().auth}},methods:{async retire(){this.logger.log(0,"retire","entry");const e=new l.Z,t=e.div("MatcDialog").build(),s=this.user.name?this.user.name:this.user.email;e.h3("",this.getNLS("user.retire.hi")+s+",").build(t),e.div("MatcMarginTop",this.getNLS("user.retire.msg"),!0).build(t);const a=e.div("MatcButtonBar MatcMarginTopXXL").build(t),i=e.a("MatcButton MatcButtonDanger",this.getNLS("btn.delete")).build(a),c=e.a("MatcLinkButton",this.getNLS("btn.cancel")).build(a),d=new r.Z;d.popup(t,this.$refs.retireBUTTON),d.own((0,n.Z)(i,"click",o.Z.hitch(this,"_retireUser",d,t))),d.own((0,n.Z)(c,"click",(function(){d.close()})))},_retireUser(e,t){h.Z.getUserService().retire(this.user),e.shake(),t.innerHTML=this.getNLS("user.retire.cusoon"),e.own((0,n.Z)(e,"close",(()=>{this.$root.$emit("logout")})))},confirm(){return new Promise((e=>{const t=new l.Z,s=t.div("MatcDialog").build(),a=this.user.name?this.user.name:this.user.email,i=this.getNLS("user.change.email")+this.user.email;t.h3("",this.getNLS("user.change.hi")+a+",").build(s),t.div("MatcMarginTop",i,!0).build(s);const o=t.div("MatcButtonBar MatcMarginTopXXL").build(s),c=t.a("MatcButton MatcButtonRed",this.getNLS("btn.save")).build(o),d=t.a("MatcLinkButton",this.getNLS("btn.cancel")).build(o),h=new r.Z;h.popup(s,this.$refs.emailField),h.own((0,n.Z)(c,"click",(()=>{e(!0),h.close()}))),h.own((0,n.Z)(d,"click",(()=>{h.close()}))),h.on("close",(()=>{e(!1)}))}))},async save(){this.logger.log(0,"save","entry");const e={name:this.user.name,lastname:this.user.lastname,homepage:this.user.homepage,newsletter:this.user.newsletter};if(this.orginalEmail!==this.user.email){const t=await this.confirm();if(!t)return;e.email=this.user.email}if(this.password>0){if(this.password.length<6)return console.warn("Password too short"),void(this.error="The password must have at least 6 characters");e.password=this.password}const t=await h.Z.getUserService().save(this.user._id,e);t.errors?(this.logger.error("save","Email taken",this.user.email),this.showError("Email is taken..."),this.error="The email is already taken"):(this.$root.$emit("user",t),this.showSuccess("Account updated"))},onImageChanged(){this.showSuccess("Image changed")}},async mounted(){this.logger=new c.Z("Finish");let e=h.Z.getUserService().load();h.Z.getUserService().loadById(e.id).then((e=>{this.user=e,this.orginalEmail=this.user.email,this.logger.info("mounted","exit >> "+this.user.email)}))}},S=Z,y=(0,_.Z)(S,a,i,!1,null,null,null),b=y.exports},51804:function(e,t,s){s.d(t,{Z:function(){return p}});var a=s(93134),i=s(42477),o=s(52298),n=s(24615),r=s(34287),l=s(4623),c=s(40626),d=s(66839),h=s(14285),u=s(81612),m=null;class p extends u.Z{static getCurrentDialog(){return m}constructor(e){super(),this.autoClose=!0,this.wrapperClass="",this.overflow=!1,this.isFullScreen=!1,this.hasCSSAnimation=!0,e&&e.overflow&&(this.overflow=e.overflow),e&&e.hasCSSAnimation&&(this.hasCSSAnimation=e.hasCSSAnimation),this.log=new h.Z("Dialog")}destroy(){this.log.info("destroy","enter"),m=null,this.cleanUpEvented()}setFullScreen(e){this.hasFullScreen=!0,this.fullScreenListener=e}popup(e,t,s){this.log.log(1,"popup","enter"),m=this,d.Z.publish("vommond/dialog/open",{});var h=document.createElement("div");if(a.Z.add(h,"VommondDialogBackground VommondDialogHidden VommondDialogContentHidden"),this.hasFullScreen){let e=document.createElement("span");a.Z.add(e,"VommondDialogFullScreen mdi mdi-fullscreen"),h.appendChild(e),this.own((0,n.Z)(e,l.Z.press,i.Z.hitch(this,"toggleFullScreen",e)))}var u=document.createElement("div");a.Z.add(u,"VommondDialogContainer"),h.appendChild(u);var p=document.createElement("div");a.Z.add(p,"VommondDialogWrapper"),this.overflow&&a.Z.add(p,"VommondDialogWrapperOverflow"),s&&a.Z.add(p,s),a.Z.add(p,this.wrapperClass),u.appendChild(p);var g=document.createElement("div");a.Z.add(g,"VommondDialogContent"),(0,r.Z)("mobile")&&(a.Z.add(g,"VommondDialogContentMobile"),a.Z.add(p,"VommondDialogWrapperMobile")),p.appendChild(g),g.appendChild(e),o.Z.body().appendChild(h),this.own((0,n.Z)(h,"onmousewheel",i.Z.hitch(this,"stopScroll"))),this.own((0,n.Z)(h,"mousewheel",i.Z.hitch(this,"stopScroll"))),this.own((0,n.Z)(h,"DOMMouseScroll",i.Z.hitch(this,"stopScroll"))),this.own(d.Z.subscribe("matc/canvas/esc",i.Z.hitch(this,"close")));var v=this.getStartPos(t),f=c.Z.position(p),C=c.Z.position(h);if(this.autoClose&&this.own((0,n.Z)(h,l.Z.press,i.Z.hitch(this,"onBackClick"))),p.style.top=v.y+"px",p.style.height=v.h+"px",p.style.width=v.w+"px",p.style.left=v.x+"px",this.hasCSSAnimation){var _=v.w/f.w,w=v.h/f.h,M=" scale("+_+","+w+")";p.style.transform=M}setTimeout((()=>{a.Z.remove(h,"VommondDialogHidden")}),1),setTimeout((()=>{a.Z.remove(h,"VommondDialogContentHidden")}),350),setTimeout((()=>{this.hasCSSAnimation&&(p.style.transform="scale(1,1)"),p.style.top=Math.round((C.h-f.h)/2)+"px",p.style.height=f.h+"px",p.style.width=f.w+"px",p.style.left=Math.round((C.w-f.w)/2)+"px"}),100),this.hasCSSAnimation&&setTimeout((()=>{p.style.transform=""}),500),setTimeout((()=>this.emitOpen()),500),this._dialogBackground=h,this.node=e,this.wrapper=p}onOpen(e){this._onOpenCallback=e}emitOpen(){this._onOpenCallback&&this._onOpenCallback()}getStartPos(e){if(e)return c.Z.position(e);var t=c.Z.position(o.Z.body());return{w:0,h:0,x:t.w/2,y:t.h/2}}resize(e){let t=this.wrapper,s=this._dialogBackground;e.appendChild&&(e=c.Z.position(e,!0));var a=c.Z.position(s);t.style.top=Math.round((a.h-e.h)/2)+"px",t.style.height=e.h+"px",t.style.width=e.w+"px",t.style.left=Math.round((a.w-e.w)/2)+"px"}stopScroll(e){if(this._dialogBackground==e.target)return this.stopEvent(e),!1}onBackClick(e){var t=e.target;t==this._dialogBackground&&(this.stopEvent(e),a.Z.add(this._dialogBackground," VommondDialogHidden"),setTimeout(i.Z.hitch(this,"close"),300))}shake(){var e=c.Z.position(this.wrapper);a.Z.add(this.wrapper,"VommondDialogWrapperShake");var t=this.wrapper;setTimeout((function(){t.style.left=e.x+50+"px"}),1),setTimeout((function(){t.style.left=e.x-50+"px"}),51),setTimeout((function(){t.style.left=e.x+50+"px"}),101),setTimeout((function(){t.style.left=e.x-50+"px"}),151),setTimeout((function(){t.style.left=e.x+"px",a.Z.remove(t,"VommondDialogWrapperShake")}),201)}toggleFullScreen(e){this.isFullScreen=!this.isFullScreen,this.fullScreenListener&&this.fullScreenListener(this.isFullScreen),this.isFullScreen?(a.Z.remove(e,"mdi-fullscreen"),a.Z.add(e,"mdi-fullscreen-exit")):(a.Z.add(e,"mdi-fullscreen"),a.Z.remove(e,"mdi-fullscreen-exit"))}hide(){this.close()}close(){this.emit("close",{}),this._dialogBackground&&o.Z.body().removeChild(this._dialogBackground),this.destroy()}}}}]);
//# sourceMappingURL=about.72dd36e3.js.map